{"version":3,"sources":["Components/Search.js","logoCrop.jpg","api/api.js","api/User.js","Container/NavbarRWD.js","Components/Enter_People.js","Components/Enter_Course.js","api/Statistics.js","Components/UnSelectDepartment.js","api/SharedData.js","logo/nothing.jpg","Components/emptyConfig.js","Components/ShareData.js","Components/Enter_GPA.js","Components/Apply_People.js","Components/Loading2.js","Components/PeopleShareTable.js","Components/TableSwitch.js","Components/Footer.js","Container/ChartsPage.js","Components/Loading.js","Components/Login.js","Components/Register.js","Components/HaveLogin.js","Components/ForgetPassword.js","Container/LoginPage.js","api/DepPost.js","Components/IconText.js","Components/ReplyLikeIcon.js","Components/ReplyDeleteIcon.js","Components/PostModal.js","Components/PostListView.js","Components/AddPostModal.js","Container/PostPage.js","Components/TransRequirement.js","Components/DoubleRequirement.js","Components/MinorRequirement.js","api/Requirement.js","Container/RequirementPage.js","Components/EnterByURL.js","Components/FinishAllShare.js","Components/UnLogin.js","api/Compulsory.js","Components/newShare.js","Container/NewSharePage.js","api/Department.js","App.js","reportWebVitals.js","index.js"],"names":["Search","department","setDepartment","departmentList","Option","Select","showSearch","style","width","marginLeft","placeholder","optionFilterProp","onChange","value","Cookie","set","className","defaultValue","length","map","dep","dep_id","dep_name","instance","axios","create","baseURL","BASE_URL","config","headers","Authorization","localStorage","getItem","setVerifyCode","mail","type","a","post","data","response","createUser","vcode","username","password","console","log","loginCheck","item","today","Date","tomorrow","setDate","getDate","path","secure","expires","setItem","access","logoutCheck","get","removeItem","getMail","forgetPassword","Navbar","isLogin","setMemberName","setIsLogin","selectAppear","current","useEffect","onClick_Logout","Cookies","remove","class","onClickOutside","document","getElementById","checked","id","for","to","src","logo","marginTop","height","alt","listStyleType","onClick","EnterPeopleChart","transApproveRate","doubleApproveRate","minorApproveRate","deviceWidth","labels","datasets","label","fill","backgroundColor","borderColor","margin","maxWidth","options","maintainAspectRatio","responsive","scales","y","beginAtZero","min","max","ticks","callback","index","plugins","legend","font","size","lineHeight","family","weight","title","EnterCourseChart","compulsory","takenCourse","useState","setLabel","dataTrans","setDataTrans","dataDouble","setDataDouble","dataMinor","setDataMinor","setChartWidth","mapCourseID2CourseName","course_id","i","course_name","labelTemp","dataTransTemp","dataDoubleTemp","dataMinorTemp","findIndex","push","textAlign","fontSize","indexAxis","x","stepSize","searchStatistics","depID","UnSelectDepartment","paddingTop","icon","SmileOutlined","twoToneColor","extra","createShare","year","gpa_first_semester","gpa_second_semester","option","priority","ori_dep","addCourse","data_id","grade","duplicateCheck","searchTakenCourse","searchTakenCourseFail","emptyConfig","emptyImg","TakenCourse","takenCourseFail","filteredInfo","setFilteredInfo","sortedInfo","setSortedInfo","allData","setAllData","courseFilter","setCourseFilter","times","setTimes","gradeMapScore","filter","appearCourse","sameDataIdText","sameDataIdTextFail","name","text","gpa","substring","note","success","indexOf","handleChange","pagination","filters","sorter","columns","dataIndex","key","filteredValue","courseName","onFilter","record","includes","b","localeCompare","sortOrder","columnKey","order","ellipsis","a_value","b_value","typeSorter","render","status","columnsRWD","renderEmpty","marginBottom","dataSource","position","pageSize","expandable","expandedRowRender","whiteSpace","thisCourseInfo","color","description","EnterGPAChart","gpaData","gpaDataFail","pointRadius","ApplyPeopleChart","transApplyNum","doubleApplyNum","minorApplyNum","Loading","modalRef","ref","PeopleShareTable","duplicate","j","data2","data3","concat","grey","SwitchRoot","styled","SwitchInput","SwitchThumb","SwitchTrack","theme","palette","mode","MUISwitch","props","useSwitch","getInputProps","stateClasses","disabled","focusVisible","clsx","TableSwitch","Table","setTable","defaultChecked","Footer","href","textDecoration","colorScheme","leftIcon","paddingLeft","ChartPage","setCurrent","setSelectAppear","setCompulsory","setTransStatistics","setDoubleStatistics","setMinorStatistics","setTransApplyNum","setDoubleApplyNum","setMinorApplyNum","setTransApproveRate","setDoubleApproveRate","setMinorApproveRate","setTakenCourse","setTakenCourseFail","setGpaData","setGpaDataFail","modal","useRef","setDeviceWidth","window","innerWidth","thisModal","display","undefined","data_fail","shareDataDict","shareDataFailDict","parseInt","gpaTemp","gpaTempFail","sublist","Object","entries","transTemp","transfer_in_Approval_rate","reverse","transYear_","transTmp","convertWithPercent","transApplyTemp","transfer_in_applicants","error","doubleTemp","approval_rate","doubleYear_","doubleTmp","convertWithoutPercent","doubleApplyTemp","number_of_applicants","minorTemp","minorYear_","minorTmp","minorApplyTemp","mapCourseName2CourseID","transfer","datas","cnt","toString","tmp","replace","double","orientation","padding","FundTwoTone","bordered","hoverable","headStyle","fontFamily","border","ProfileTwoTone","Login","setLoginOrRegister","setMemberMail","setLoginOrForgetPassword","setEmail","setPassword","Submit","values","hashDigest","sha256","hash","words","message","initialValues","remember","onFinish","Item","rules","required","whitespace","prefix","UserOutlined","e","target","LockOutlined","htmlType","preventDefault","Register","email","nickname","setNickname","captcha","setCaptcha","submit","result","getCode","emailLower","toLowerCase","emailDomain","emailDomain2","split","onChangePassword","Form","useForm","form","labelCol","xs","span","sm","wrapperCol","scrollToFirstError","getFieldValue","validator","_","Promise","reject","Error","resolve","hasFeedback","Password","dependencies","tooltip","gutter","noStyle","offset","HaveLogin","memberName","justifyContent","ForgetPassword","LoginPage","setCsrfToken","setSessionId","loginOrRegister","loginOrForgetPassword","getDepPost","listData","avatar","content","createPost","post_param","add_reply","post_id","get_post_reply","likes_post","delete_post","handle_like_reply","post_reply_id","delete_reply","IconText","user_likes","iconNum","setDepPostData","LikeOutlined","pressColor","setpressColor","showText","setshowText","pressButton","info","prev","DeleteOutlined","MessageOutlined","paddingBottom","React","createElement","pointerEvents","Replyicon","ReplyDeleteIcon","setreplyList","TextArea","Input","PostModal","postModalFlag","setPostModalFlag","replyList","pressPost","Meta","author","textDecorationLine","moment","datetime","format","fromNow","cursor","source","slice","visible","onCancel","onOk","cancelButtonProps","actions","likes_num","header","itemLayout","renderItem","reply","user_like","like_num","CommentBlock","replyVal","setreplyVal","submitReply","rows","PostListView","depPostData","page","post_reply_num","Title","Typography","AddPostModal","showModal","setshowModal","submitting","setsubmitting","titleVal","settitleVal","contentVal","setcontentVal","handleSubmit","setTimeout","res","warning","footer","level","loading","PostPage","TransRequirement","transRequirement","newLine","accept_number","qualification","admission_requirement","other","accept_second_priority","notes","DoubleRequirement","doubleRequirement","column","xxl","xl","lg","md","MinorRequirement","minorRequirement","min_received_credit","elective","searchRequirement","RequirementPage","setTransRequirement","setDoubleRequirement","setMinorRequirement","EnterByURL","FinishAllShare","UnLogin","searchCompulsory","NewShare","memberMail","setType","EnterDepartment","setEnterDepartment","oriDepartment","setOriDepartment","setYear","firstGPA","setFirstGPA","secondGPA","setSecondGPA","setPriority","successOrFail","setSuccessOrFail","compulsoryNum","setCompulsoryNum","selectCompulsory","setSelectCompulsory","selectGrade","setSelectGrade","duplicateTrans","setDuplicateTrans","duplicateDouble","setDuplicateDouble","duplicateMinor","setDuplicateMinor","duplicateAll","setDuplicateAll","Transfer","DoubleMajor","Minor","basic","setBasic","oneMore","setOneMore","compulSoryTemp","compulsoryRemoveDuplicate","flag","onChange_Department","onClick_Submit","resetFields","Group","Button","cnum","compact","eTargetValue","onChange_Compulsory","C","find","c","INDEX","onChange_Grade","NewSharePage","getDepartment","fakedeparmentList","App","setDepartmentList","fetdepartment","exact","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.f91cec41.chunk.js","sourcesContent":["import { useState, useEffect } from 'react';\r\n\r\nimport { Select } from 'antd';\r\nimport Cookie from \"js.cookie\";\r\n\r\n\r\nconst Search = ({ department, setDepartment, departmentList }) => {\r\n  const { Option } = Select;\r\n\r\n  const onChange = (value) => {\r\n    setDepartment(value);\r\n    Cookie.set(\"department\", value)\r\n  }\r\n\r\n  return (\r\n    <Select\r\n      showSearch\r\n      style={{ width: 180, marginLeft: \"20px\" }}\r\n      placeholder={\"選擇系所\"}\r\n      optionFilterProp=\"children\"\r\n      onChange={onChange}\r\n      className=\"search textarea\"\r\n      key = {department}\r\n      defaultValue={department}\r\n    >\r\n      {\r\n        departmentList.length\r\n          ?\r\n          departmentList.map(dep => (\r\n            <Option value={dep.dep_id}>{dep.dep_name}</Option>\r\n          ))\r\n          :\r\n          <Option value={\"none\"}></Option>\r\n      }\r\n    </Select>\r\n  )\r\n}\r\nexport default Search;\r\n\r\n","export default __webpack_public_path__ + \"static/media/logoCrop.f3dac6ac.jpg\";","import axios from 'axios';\n\n\nconst instance = axios.create({\n  baseURL: `https://ntu-tmd2021backend.herokuapp.com`\n  // baseURL :`http://127.0.0.1:8000`,\n});\n\nexport default instance;\n\n\nexport const BASE_URL = 'https://ntu-tmd2021backend.herokuapp.com' ;\n\n// export const BASE_URL = 'http://127.0.0.1:8000' ;\n\nexport const config = () => {return {\n  headers: { Authorization: `Bearer ${localStorage.getItem('token')}` }\n}}\n\n\n\n","import axios from \"axios\";\r\nimport Cookie from \"js.cookie\";\r\n\r\nimport instance from \"./api\";\r\n\r\nimport { BASE_URL, config} from \"./api\";\r\n\r\nexport const setVerifyCode = async(mail, type)=>{\r\n\tif(type !== \"forgetPassword\"){\r\n\t\ttype = \"register\"\r\n\t}\r\n\ttry {\r\n\t\tconst {data} = await instance.post(\"/user/set_verify_code\", {\"mail\":mail, type});\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t//console.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\n\r\nexport const createUser = async(mail, vcode, username,password)=>{\r\n\ttry {\r\n\t\tconst {data} = await instance.post(\"/user/register\", {\"mail\":mail, \"vcode\":vcode, \"username\":username, \"password\":password});\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\n\r\n\r\nexport const loginCheck = async(username,password)=>{\r\n\ttry {\r\n\t\tconst url = \"/user/login\"\r\n\t\tconst item = {\"username\":username, \"password\":password}\r\n\r\n\t\tconst {data} = await instance.post(url,item)\r\n\t\tconst today = new Date()\r\n\r\n\t\tvar tomorrow = new Date(today);\r\n\t\ttomorrow.setDate(today.getDate()+3);\r\n\r\n\t\tCookie.set(\r\n\t\t\t\"memberName\",                                       // @string\r\n\t\t\tusername,                                       // @string, @number, @object\r\n\t\t\t{                                             // @object (options, not necessary)                  // @string                 | default: current domain\r\n\t\t\t\tpath:    \"/\",                         // @string                 | default: \"/\"\r\n\t\t\t\tsecure:  true,                            // @boolean                | default: false\r\n\t\t\t\texpires: tomorrow, // @string (in GMT format)                         // @number (days of life)  | default: session cookie\r\n\t\t\t}\r\n\t\t); \r\n\r\n\t\tlocalStorage.setItem(\"token\", data.access);\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\nexport const logoutCheck = async ()=>{\r\n\ttry{\r\n\t\tconst url = \"/user/logout\"\r\n\t\tconst {data} = await instance.get(url)\r\n\t\tlocalStorage.removeItem(\"token\")\r\n\r\n    \r\n\t\treturn data\r\n\t}\r\n\tcatch (error){\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport const getMail = async (username)=>{\r\n\ttry{\r\n\t\tconst url = BASE_URL+\"/user/get_mail\"\r\n\t\tconst {data} = await axios.post(url,{\"username\":username}, config)\r\n\t\treturn data\r\n\t}\r\n\tcatch (error){\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\n\r\nexport const forgetPassword = async (mail, vcode,password) => {\r\n\ttry{\r\n\t\tconst {data} = await axios.post(BASE_URL+\"/user/forget_password\", {\"mail\":mail, vcode, \"new_password\":password})\r\n\t\treturn data\r\n\t}catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n","import { Link } from \"react-router-dom\";\r\nimport Search from \"../Components/Search\";\r\n\r\nimport { useRef, useEffect } from \"react\";\r\nimport logo from '../logoCrop.jpg';\r\nimport { logoutCheck } from \"../api/User\";\r\nimport Cookies from \"js.cookie\"\r\nimport ClickOutside from \"react-click-outside\"\r\n\r\nconst Navbar = ({isLogin, setDepartment,departmentList,setMemberName, setIsLogin ,selectAppear,department, current}) => {\r\n\tuseEffect(() => {\r\n\t\t// switch(current){\r\n\t\t// \tcase \"login\": \r\n\t\t// \t\tmainPageRef.current.className = \"nav-li-link\"\r\n\t\t// \t\tloginPageRef.current.className = \"nav-li-link active\"\r\n\t\t// \t\tbreak\r\n\t\t// \tcase \"requirement\": case \"newshare\": case \"statistical\":\r\n\t\t// \t\tmainPageRef.current.className = \"nav-li-link active\"\r\n\t\t// \t\tloginPageRef.current.className = \"nav-li-link\"\t\t\t\t\r\n\t\t// \t\tbreak\r\n\t\t// }\r\n\t}, []);\r\n\t\r\n    const onClick_Logout = async() =>{\r\n      const result = await logoutCheck();\r\n      setIsLogin(false)\r\n      setMemberName(false)\r\n      Cookies.remove(\"memberName\");\r\n    }\t\r\n\tconst onBlur_closeMenu = () => {\r\n\t\tconst checkbox = document.getElementById(\"nav-show-menu\")\r\n\t\tcheckbox.checked = false\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div class=\"nav-wrapper\">\r\n\t\t\t<ClickOutside onClickOutside={onBlur_closeMenu}>\r\n\t\t\t<nav>\r\n\t\t\t\t<input type=\"checkbox\" id=\"nav-show-search\"/>\r\n\t\t\t\t<input type=\"checkbox\" id=\"nav-show-menu\"/>\r\n\t\t\t\t<label for=\"nav-show-menu\" className=\"nav-menu-icon\"><i className=\"fas fa-bars\"></i></label>\r\n\t\t\t\t<div className=\"nav-content\">\r\n\t\t\t\t{/* for RWD logo */}\r\n\t\t\t\t<label className=\"nav-img-logo\"> \r\n\t\t\t\t\t<Link to = \"/\">\r\n\t\t\t\t\t<img src={logo} style={{marginLeft:\"20px\", marginTop:\"-40px\",width:\"60px\",height:\"40px\"}} alt=\"logo\" />\r\n\t\t\t\t\t</Link>\r\n\t \t \t\t</label>\r\n\t\t\t\t<div className=\"nav-logo\"><Link to=\"/\" className=\"nav-link\">NTU TMD</Link></div>\r\n        {\r\n        selectAppear\r\n        ?\r\n        <Search setDepartment={setDepartment} departmentList={departmentList} department={department}/>\r\n        :\r\n        <></>\r\n        }\r\n\r\n\t\t\t\t\t<ul className=\"nav-links\">\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t{/* 這裡Link只有在RWD desktop時需要，因為togglemenu中點擊是展開而非切換連結\r\n\t\t\t\t\t\t\t所以，利用nav-link-appear 操控 display:none*/}\r\n\t\t\t\t\t\t<div className=\"nav-link-appear\">\r\n\t\t\t\t\t\t\t<Link to=\"/\" className=\"nav-link nav-desktop-link\">資訊統整</Link> \r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<input type=\"checkbox\" id=\"nav-show-datas\"/>\r\n\t\t\t\t\t\t<label for=\"nav-show-datas\">\r\n\t\t\t\t\t\t資訊統整</label>\r\n\r\n\t\t\t\t\t\t<ul style={{listStyleType:\"none\"}}>\r\n\t\t\t\t\t\t\t<li><Link className=\"nav-link\" to=\"/requirement\">門檻要求</Link></li>\r\n\t\t\t\t\t\t\t<li><Link className=\"nav-link\" to=\"/\">統計資料</Link></li>\r\n\t\t\t\t\t\t\t<li><Link className=\"nav-link\" to=\"/post\">貼文牆</Link></li>\r\n\t\t\t\t\t\t</ul>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/newshare\" className=\"nav-link nav-desktop-link\"> 分享經驗</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t{\r\n\t\t\t\t\tisLogin\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<a className=\"nav-link nav-desktop-link\" onClick={onClick_Logout}>登出</a>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<li>\r\n\t\t\t\t\t\t<Link to=\"/login\" className=\"nav-link nav-desktop-link\"> 登入/註冊</Link>\r\n\t\t\t\t\t</li>\r\n\t\t\t\t\t}\r\n\t\t\t\t\t</ul>\r\n\t\t\t\t</div>\r\n\t\t\t\t<label for=\"nav-show-search\" className=\"search-icon\"><i className=\"fas fa-search\"></i></label>\r\n\r\n\t\t\t\t{/* <form action=\"#\" class=\"nav-search-box\">\r\n\t\t\t\t\t<input type=\"text\" placeholder=\"Type Something to Search...\" required/>\r\n\t\t\t\t\t<button type=\"submit\" class=\"go-icon\"><i class=\"fas fa-long-arrow-alt-right\"></i></button>\r\n\t\t\t\t</form> */}\r\n\t\t\t</nav>\r\n\t\t\t</ClickOutside>\r\n\t\t</div>\r\n\r\n\t)\r\n}\r\n\r\nexport default Navbar;","// import Chart from 'chart.js/auto';\r\nimport {Line } from 'react-chartjs-2'\r\n\r\nconst EnterPeopleChart = ({transApproveRate, doubleApproveRate, minorApproveRate, deviceWidth}) => {\r\n\t// 102~110年轉入資料，共9年\r\n\t// tool: 調色工具 https://www.colorhexa.com/\r\n\t// 要用state 變數，不然在畫圖時prop變數還沒傳進來，會是空的圖，而chart沒用到state，也不會自動render\r\n\t// const [dataTrans, setDataTrans] = useState([]);\r\n\t// const [dataDouble, setDataDouble] = useState([]);\r\n\t// const [dataMinor, setDataMinor] = useState([]);\r\n\t// const [chartWidth, setChartWidth] = useState(0);\r\n\r\n\t// useEffect(() => {\r\n\t// \tsetDataTrans(transApproveRate);\r\n\t// \tsetDataDouble(doubleApproveRate);\r\n\t// \tsetDataMinor(minorApproveRate);\r\n\t// }, [transApproveRate]);\r\n\r\n\tconst data = {\r\n\t\tlabels: ['107年', '108年', '109年', '110年', '111年'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '轉入成功比例 (%)',\r\n\t\t\t\tdata: transApproveRate,\r\n\t\t\t\t// data: dataTrans,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#B15BFF',\r\n\t\t\t\tborderColor: '#B15BFF',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '雙主修成功比例 (%)',\r\n\t\t\t\tdata: doubleApproveRate,\r\n\t\t\t\t// data: dataDouble,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#5BC5DB',\r\n\t\t\t\tborderColor: '#5BC5DB',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tlabel: '輔系成功比例 (%)',\r\n\t\t\t\tdata: minorApproveRate,\r\n\t\t\t\t// data: dataMinor,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#f58155',\r\n\t\t\t\tborderColor: '#f58155',\r\n\t\t\t},\t\t\t\r\n\t\t],\r\n\t};\r\n\r\n\tif(minorApproveRate.length === 0){\r\n\t\tdata.datasets[2].label = \"此系不開放輔系\"\r\n\t}\r\n\tif(doubleApproveRate.length === 0){\r\n\t\tdata.datasets[1].label = \"此系不開放雙主修\"\r\n\t}\r\n\tif(transApproveRate.length === 0){\r\n\t\tdata.datasets[0].label = \"此系不開放轉系\"\r\n\t}\r\n\r\n\tconst options = {\r\n\t\t// doc:https://www.chartjs.org/docs/latest/axes/cartesian/linear.html#grace\r\n\t\tmaintainAspectRatio: false,\r\n\t\tresponsive:true,\r\n\t\tscales: {\r\n\t\t \ty: {\r\n\t\t \t\tbeginAtZero: true,\r\n\t\t\t\tmin: 0,\r\n\t\t\t\tmax: 100,\r\n\t\t\t\tticks: {\r\n                    // Include a dollar sign in the ticks\r\n                    callback: function(value, index, ticks) {\r\n                        return value + '%' ;\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tplugins: {\r\n            legend: {\r\n                labels: {\r\n\t\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n                    font: {\r\n                        size: 15,\r\n\t\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\t\tweight: \"bold\"\r\n                    }\r\n                },\r\n            },\r\n\t\t\t// doc: https://www.chartjs.org/docs/latest/configuration/title.html\r\n\t\t\ttitle: {\r\n\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n\t\t\t\tfont: {\r\n\t\t\t\t\tsize: 20,\r\n\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\tweight: \"bold\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n        },\t\t\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{margin:\"auto\", maxWidth:500}}>\r\n\t\t\t{/* <div className='header'>\r\n\t\t\t<h1 className='title'>申請人數比較</h1> */}\r\n\t\t\t<div className='links'>\r\n\t\t\t</div>\r\n\t\t\t{/* </div> */}\r\n\t\t\t{/* 必須加redraw 才能利用變數改變大小 */}\r\n\t\t\t{/* 但redraw 會無法繪圖? */}\r\n\t\t\t{/* <Line data={data} options={options} width={deviceWidth-20} height={300} redraw={true}/> */}\r\n\t\t\t<Line data={data} options={options} height={300}/>\r\n\t\t</div>\r\n\t\t\r\n\t)\r\n\r\n}\r\n\r\nexport default EnterPeopleChart;","// import Chart from 'chart.js/auto';\r\nimport { Bar} from 'react-chartjs-2'\r\nimport { useState, useEffect } from 'react';\r\n\r\n\r\nconst EnterCourseChart = ({compulsory,takenCourse,department, deviceWidth}) => {\r\n\r\n\t// tool: 調色工具 https://www.colorhexa.com/\r\n\tconst [label,setLabel] = useState([]);\r\n\tconst [dataTrans, setDataTrans] = useState([]);\r\n\tconst [dataDouble, setDataDouble] = useState([]);\r\n\tconst [dataMinor, setDataMinor] = useState([]);\r\n\tconst [chartWidth, setChartWidth] = useState(0);\r\n\r\n\r\n\r\n\tconst mapCourseID2CourseName = (course_id) => {\r\n\t\tlet name = \"\"\r\n\t\tfor(let i = 0; i < compulsory.length; i++){\r\n\t\t\tif (compulsory[i].course_id === course_id){\r\n\t\t\t\tname = compulsory[i].course_name;\r\n\t\t\t\treturn name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t// console.log(deviceWidth)\r\n\t\tif(deviceWidth > 750 )\r\n\t\t\tsetChartWidth(600)\r\n\t\telse\r\n\t\t\tsetChartWidth(360)\r\n\t}, []);\r\n\r\n\tuseEffect( async() => {\r\n\t\tlet labelTemp = []\r\n\t\tlet dataTransTemp = []\r\n\t\tlet dataDoubleTemp = []\r\n\t\tlet dataMinorTemp = []\r\n\t\tconsole.log(\"124\")\r\n\t\tfor (let i = 0; i < takenCourse.length; i++){\r\n\t\t\tif(takenCourse[i].course_id === \"這個人沒修過課，單純回傳GPA\")\r\n\t\t\t\tcontinue\r\n\t\t\t// let index = labelTemp.findIndex(course_name => mapCourseName2CourseID(course_name) === takenCourse[i].course_id)\r\n\t\t\tlet index = labelTemp.findIndex(course_name => course_name === mapCourseID2CourseName(takenCourse[i].course_id))\r\n\t\t\tif (index === -1){\r\n\t\t\t\tlabelTemp.push(mapCourseID2CourseName(takenCourse[i].course_id))\t\r\n\t\t\t\tif(takenCourse[i].type === \"Transfer\"){\r\n\t\t\t\t\tdataTransTemp.push(1)\r\n\t\t\t\t\tdataDoubleTemp.push(0)\r\n\t\t\t\t\tdataMinorTemp.push(0)\r\n\t\t\t\t}\r\n\t\t\t\tif(takenCourse[i].type === \"DoubleMajor\"){\r\n\t\t\t\t\tdataTransTemp.push(0)\r\n\t\t\t\t\tdataDoubleTemp.push(1)\r\n\t\t\t\t\tdataMinorTemp.push(0)\r\n\t\t\t\t}\r\n\t\t\t\tif(takenCourse[i].type === \"Minor\"){\r\n\t\t\t\t\tdataTransTemp.push(0)\r\n\t\t\t\t\tdataDoubleTemp.push(0)\r\n\t\t\t\t\tdataMinorTemp.push(1)\r\n\t\t\t\t}\r\n\t\t\t\tcontinue\t\t\r\n\t\t\t}\r\n\t\t\tif (takenCourse[i].type === \"Transfer\")\r\n\t\t\t\tdataTransTemp[index] += 1\r\n\t\t\tif(takenCourse[i].type === \"DoubleMajor\")\r\n\t\t\t\tdataDoubleTemp[index] += 1\r\n\t\t\tif(takenCourse[i].type === \"Minor\")\r\n\t\t\t\tdataMinorTemp[index] += 1\r\n\t\t}\r\n\t\tsetLabel(labelTemp)\r\n\t\tsetDataTrans(dataTransTemp)\r\n\t\tsetDataDouble(dataDoubleTemp)\r\n\t\tsetDataMinor(dataMinorTemp)\r\n\r\n\t}, [takenCourse]);\r\n\r\n\tconst data = {\r\n\t\tlabels: label,\r\n\t\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '轉入者修過此課人數',\r\n\t\t\t\tdata: dataTrans,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#B15BFF',\r\n\t\t\t\tborderColor: '#B15BFF',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '雙上者修過此課人數',\r\n\t\t\t\tdata: dataDouble,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#5BC5DB',\r\n\t\t\t\tborderColor: '#5BC5DB',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '輔上者修過此課人數',\r\n\t\t\t\tdata: dataMinor,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#f58155',\r\n\t\t\t\tborderColor: '#f58155',\r\n\t\t\t},\t\t\t\r\n\t\t],\r\n\t};\r\n\tconst options = {\r\n\t\t// doc:https://www.chartjs.org/docs/latest/axes/cartesian/linear.html#grace\r\n  \t\tindexAxis: 'y',\r\n\t\t//TODO 如果版出錯看這\r\n\t\tmaintainAspectRatio: false,\r\n\t\tresponsive:true,\r\n\t\tscales: {\r\n\t\t\tx: {\r\n\t\t\t\tticks: {\r\n\t\t\t\tstepSize: 1\r\n\t\t\t\t}\r\n\t\t\t},\r\n\t\t\ty:{\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tfont :{\r\n\t\t\t\t\t\tsize: 15\r\n\t\t\t\t\t},\r\n\t\t\t\t}\t\t\t\t\r\n\t\t\t}\r\n\t\t},\r\n\t\tplugins: {\r\n            legend: {\r\n\r\n                labels: {\r\n\t\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n                    font: {\r\n                        size: 15,\r\n\t\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\t\tweight: \"bold\"\r\n                    }\r\n                },\r\n\r\n            },\r\n\t\t\t// doc: https://www.chartjs.org/docs/latest/configuration/title.html\r\n\t\t\ttitle: {\r\n\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n\t\t\t\tfont: {\r\n\t\t\t\t\tsize: 20,\r\n\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\tweight: \"bold\"\r\n\t\t\t\t}\r\n\t\t\t}\r\n        }\t\t\r\n\r\n\t};\r\n\r\n\r\n\treturn (\r\n\r\n\t\t\t<div style={{margin:\"auto\", maxWidth:500}}>\r\n\t\t\t{/* <div className='header'>\r\n\t\t\t<h1 className='title'>申請人數比較</h1>\r\n\t\t\t<div className='links'>\r\n\t\t\t</div>\r\n\t\t\t</div> */}\r\n\t\t\t{label.length === 0\r\n\t\t\t\t?\r\n\t\t\t\t<p style={{textAlign:\"center\", fontSize:\"14px\"}}> 沒有人填資料QQ</p>\r\n\t\t\t\t:\r\n\t\t\t\t<>\r\n\t\t\t\t{/* <Bar data={data} options={options} width={deviceWidth-100} height={label.length * 80} redraw={true}/> */}\r\n\t\t\t\r\n\t\t\t\t\t<Bar data={data} options={options} height={label.length * 80} />\r\n\t\t\t\t</>\r\n\t\t\t}\r\n\t\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default EnterCourseChart;","import instance from \"./api\";\r\n\r\n\r\n\r\nexport const searchStatistics = async(depID, type)=>{\r\n\ttry {\r\n\t\t//console.log (todo)\r\n\t\tconst {data} = await instance.post(\"/api/search/statistics\",{\"dep_id\":depID, \"type\":type});\r\n\r\n\t\treturn data\r\n\t} catch (error) {\r\n\tconsole.log(error)\r\n}\r\n}","import {Result, Button} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\"\r\n\r\nconst UnSelectDepartment = () =>{\r\n\treturn(\r\n\t\t<div style={{paddingTop:\"100px\"}}>\r\n\t\t<Result\r\n\t\t\ticon={<SmileOutlined twoToneColor=\"red\"/>}\r\n\t\t\ttitle=\"選擇一個系吧!\"\r\n\t\t\textra={<div>朝向你的目標前進</div>}\r\n\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UnSelectDepartment;","import axios from \"axios\";\r\nimport { BASE_URL , config} from \"./api\";\r\n\r\n\r\nexport const createShare = async(\r\n \tmail,   \r\n\tyear, \r\n    gpa_first_semester, \r\n    gpa_second_semester, \r\n    option, \r\n    priority, \r\n    dep_id,\r\n\tori_dep,\r\n\ttype,\r\n)=>{\r\n\ttry {\r\n\t\tconsole.log(config())\r\n\t\tconst {data} = await axios.post(BASE_URL+\"/user/createshare\", \r\n\t\t{\r\n\t\t\t\"mail\":mail,\r\n\t\t\t\"year\":year, \r\n\t\t\t\"gpa_first_semester\":gpa_first_semester,\r\n\t\t\t\"gpa_second_semester\":gpa_second_semester, \r\n\t\t\t\"option\": option, \r\n\t\t\t\"prioity\": priority, \r\n\t\t\t\"dep_id\":dep_id,\r\n\t\t\tori_dep,\r\n\t\t\ttype\r\n\t\t\t\r\n\t\t}, config());\r\n\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n\r\n}\r\nexport const addCourse = async(data_id, course_id,grade, type)=>{\r\n\ttry {\r\n\t\tconst {data} = await axios.post(BASE_URL+\"/user/add_course\", {\"data_id\":data_id, \"course_id\":course_id, \"grade\":grade, type}, config());\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\n\r\nexport const duplicateCheck = async(mail)=>{\r\n\ttry {\r\n\t\tconst item = {\"mail\":mail}\r\n\t\tconst {data} = await axios.post(BASE_URL+'/user/check_duplicate_share', item, config())\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\nexport const searchTakenCourse = async(dep_id)=>{\r\n\ttry {\r\n\t\tconst item = {\"dep_id\":dep_id}\r\n\t\tconst {data} = await axios.post(BASE_URL+'/api/search/sharedata', item, config)\r\n\t\tconsole.log(data)\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n\r\n\r\nexport const searchTakenCourseFail = async(dep_id)=>{\r\n\ttry {\r\n\t\tconst item = {\"dep_id\":dep_id}\r\n\t\tconst {data} = await axios.post(BASE_URL+'/api/search/share_fail', item, config)\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error.response.data)\r\n\t\treturn error.response.data\r\n\t}\r\n}\r\n","export default __webpack_public_path__ + \"static/media/nothing.db46056b.jpg\";","import { Empty} from 'antd';\r\nimport emptyImg from \"../logo/nothing.jpg\"\r\n\r\n\r\nconst emptyConfig = () => (\r\n\t// <div style={ { textAlign: 'center' }}>\r\n\t// \t<image href={emptyImg}></image>\r\n\t// {/* <SmileOutlined style={{ fontSize: 20 }} /> */}\r\n\t// \t<p>Data Not Found</p>\r\n\t// </div>\r\n\t<div style={{textAlign:\"center\"}}>\r\n\t\t<img className='nothing' src={emptyImg} alt={\"沒資料\"}/>\r\n\t\t{/* <p>沒人填資料</p> */}\r\n\t</div>\r\n);\r\n\r\nexport default emptyConfig;","import { Badge, Table } from 'antd';\r\nimport { useState, useEffect } from 'react';\r\nimport { ConfigProvider } from 'antd';\r\nimport emptyConfig from './emptyConfig';\r\n\r\n\r\n\r\nconst TakenCourse = ({label, takenCourse, takenCourseFail, compulsory, deviceWidth}) =>  {\r\n\r\n\tconst RWD_SIZE = 800\r\n    const [filteredInfo, setFilteredInfo] = useState({})\r\n    const [sortedInfo, setSortedInfo] = useState({})\t\r\n\tconst [allData, setAllData] = useState([])\r\n\tconst [courseFilter, setCourseFilter] = useState([])\r\n\tconst [times, setTimes] = useState(0)\r\n\tconst mapCourseID2CourseName = (course_id) => {\r\n\t\tlet name = \"\"\r\n\t\tfor(let i = 0; i < compulsory.length; i++){\r\n\t\t\tif (compulsory[i].course_id == course_id){\r\n\t\t\t\tname = compulsory[i].course_name;\r\n\t\t\t\treturn name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst gradeMapScore = (grade) => {\r\n\t\tswitch(grade){\r\n\t\t\tcase \"F\":\r\n\t\t\t\treturn 1\r\n\t\t\tcase \"C-\":\r\n\t\t\t\treturn 2\r\n\t\t\tcase \"C\":\r\n\t\t\t\treturn 3\r\n\t\t\tcase \"C+\":\r\n\t\t\t\treturn 4\r\n\t\t\tcase \"B-\":\r\n\t\t\t\treturn 5\r\n\t\t\tcase \"B\":\r\n\t\t\t\treturn 6\r\n\t\t\tcase \"B+\":\r\n\t\t\t\treturn 7\r\n\t\t\tcase \"A-\":\r\n\t\t\t\treturn 8\r\n\t\t\tcase \"A\":\r\n\t\t\t\treturn 9\r\n\t\t\tcase \"A+\":\r\n\t\t\t\treturn 10\t\t\t\r\n\t\t}\r\n\t}\r\n\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(takenCourse)\r\n\t\tsetFilteredInfo({})\r\n\t\tsetSortedInfo({})\r\n\t\tlet data = []\r\n\t\tlet filter = []\r\n\t\tlet appearCourse = []\r\n\t\tlet sameDataIdText = {}\r\n\t\tlet sameDataIdTextFail = {}\r\n\t\tfor(let i = 0; i < takenCourse.length; i++){\r\n\t\t\tif(takenCourse[i].course_id === \"這個人沒修過課，單純回傳GPA\")\r\n\t\t\t\tcontinue\r\n\t\t\tlet name = mapCourseID2CourseName(takenCourse[i].course_id)\r\n\t\t\tif(takenCourse[i].data_id in sameDataIdText)\r\n\t\t\t\tsameDataIdText[takenCourse[i].data_id] += `${name} ${takenCourse[i].grade}\\n`\r\n\t\t\telse \r\n\t\t\t\tsameDataIdText[takenCourse[i].data_id] = `${name} ${takenCourse[i].grade}\\n`\r\n\r\n\t\t}\r\n\t\tfor(let i = 0; i < takenCourseFail.length; i++){\r\n\t\t\tif(takenCourseFail[i].course_id === \"這個人沒修過課，單純回傳GPA\")\r\n\t\t\t\tcontinue\r\n\t\t\tlet name = mapCourseID2CourseName(takenCourseFail[i].course_id)\r\n\t\t\tif(takenCourseFail[i].data_id in sameDataIdTextFail)\r\n\t\t\t\tsameDataIdTextFail[takenCourseFail[i].data_id] += `${name} ${takenCourseFail[i].grade}\\n`\r\n\t\t\telse \r\n\t\t\t\tsameDataIdTextFail[takenCourseFail[i].data_id] = `${name} ${takenCourseFail[i].grade}\\n`\r\n\r\n\t\t}\t\r\n\t\tfor(let i = 0; i < takenCourse.length; i++){\r\n\t\t\tif(takenCourse[i].course_id === \"這個人沒修過課，單純回傳GPA\")\r\n\t\t\t\tcontinue\r\n\t\t\tlet course_name = mapCourseID2CourseName(takenCourse[i].course_id)\r\n\t\t\tlet type = \"\"\r\n\t\t\tswitch(takenCourse[i].type){\r\n\t\t\t\tcase \"Transfer\":\r\n\t\t\t\t\ttype = \"轉系\"\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"DoubleMajor\":\r\n\t\t\t\t\ttype = \"雙主修\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Minor\":\r\n\t\t\t\t\ttype = \"輔系\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tlet text = `這位同學`\r\n\t\t\tif(deviceWidth <= RWD_SIZE)\r\n\t\t\t\ttext += `申請的類別為 ${type}\r\n\t\t\t\t\t\t申請年度的GPA平均為 ${takenCourse[i].gpa}\\n全部修過相關的課為：\\n`\r\n\t\t\telse\r\n\t\t\t\ttext += `修過所有相關的課為：\\n`\r\n\t\t\tlet gpa = takenCourse[i].gpa\r\n\t\t\tif(gpa.length > 4)\r\n\t\t\t\tgpa = gpa.substring(0, 4)\t\t\t\r\n\t\t\tdata.push({\"key\": i + 1, \"courseName\":course_name, \"type\":type, \"gpa\":gpa, \"note\":takenCourse[i].note, success:true,\r\n\t\t\t\t\t\t\"year\":takenCourse[i].year, \"grade\":takenCourse[i].grade, \"description\":sameDataIdText[takenCourse[i].data_id], \"thisCourseInfo\":text})\r\n\t\t\r\n\t\t\tif(appearCourse.indexOf(course_name) === -1){\t\r\n\t\t\t\tfilter.push({\"text\":course_name, \"value\":course_name})\r\n\t\t\t\tappearCourse.push(course_name)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\t\tfor(let i = 0; i < takenCourseFail.length; i++){\r\n\t\t\tif(takenCourseFail[i].course_id === \"這個人沒修過課，單純回傳GPA\")\r\n\t\t\t\tcontinue\r\n\t\t\tlet course_name = mapCourseID2CourseName(takenCourseFail[i].course_id)\r\n\t\t\tlet type = \"\"\r\n\t\t\tswitch(takenCourseFail[i].type){\r\n\t\t\t\tcase \"Transfer\":\r\n\t\t\t\t\ttype = \"轉系\"\t\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"DoubleMajor\":\r\n\t\t\t\t\ttype = \"雙主修\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t\tcase \"Minor\":\r\n\t\t\t\t\ttype = \"輔系\"\r\n\t\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tlet text = `這位同學`\r\n\t\t\tif(deviceWidth <= RWD_SIZE)\r\n\t\t\t\ttext += `申請的類別為 ${type}\r\n\t\t\t\t\t\t申請年度的GPA平均為 ${takenCourseFail[i].gpa}\\n全部修過相關的課為：\\n`\r\n\t\t\telse\r\n\t\t\t\ttext += `修過所有相關的課為：\\n`\r\n\t\t\tlet gpa = takenCourseFail[i].gpa\r\n\t\t\tif(gpa.length > 4)\r\n\t\t\t\tgpa = gpa.substring(0, 4)\r\n\t\t\tdata.push({\"key\": takenCourse.length +  i + 1, \"courseName\":course_name, \"type\":type, \"gpa\":gpa , \"note\":takenCourseFail[i].note, success:false,\r\n\t\t\t\t\t\t\"year\":takenCourseFail[i].year, \"grade\":takenCourseFail[i].grade, \"description\":sameDataIdTextFail[takenCourseFail[i].data_id], \"thisCourseInfo\":text})\r\n\t\t\r\n\t\t\tif(appearCourse.indexOf(course_name) === -1){\t\r\n\t\t\t\tfilter.push({\"text\":course_name, \"value\":course_name})\r\n\t\t\t\tappearCourse.push(course_name)\r\n\t\t\t}\r\n\r\n\t\t}\r\n\r\n\t\tsetAllData(data)\r\n\t\tsetCourseFilter(filter)\r\n\t\tsetTimes(times+1)\r\n\t}, [takenCourse]);\r\n\r\n\r\n\r\n\r\n\tconst handleChange = (pagination, filters, sorter) => {\r\n\t\t\r\n\t\tsetFilteredInfo(filters)\r\n\t\tsetSortedInfo(sorter)\r\n\t\r\n  \t};\r\n\r\n\t\r\n\tconst typeSorter = (a, b) => {\r\n\t\tlet a_value = 0\r\n\t\tlet b_value = 0\r\n\t\tswitch(a){\r\n\t\t\tcase \"轉系\":\r\n\t\t\t\ta_value = 3;\r\n\t\t\t\tbreak\r\n\t\t\tcase \"雙主修\":\r\n\t\t\t\ta_value = 2;\r\n\t\t\t\tbreak\r\n\t\t\tcase \"輔系\":\r\n\t\t\t\ta_value = 1;\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\tswitch(b){\r\n\t\t\tcase \"轉系\":\r\n\t\t\t\tb_value = 3;\r\n\t\t\t\tbreak\r\n\t\t\tcase \"雙主修\":\r\n\t\t\t\tb_value = 2;\r\n\t\t\t\tbreak\r\n\t\t\tcase \"輔系\":\r\n\t\t\t\tb_value = 1;\r\n\t\t\t\tbreak\r\n\t\t}\r\n\t\treturn a_value - b_value\r\n\t}\r\n\r\n\r\n\r\n    const columns = [\r\n      {\r\n        title: '課程名稱',\r\n        dataIndex: 'courseName',\r\n        key: 'courseName',\r\n        filters: courseFilter,\r\n        filteredValue: filteredInfo.courseName || null,\r\n        onFilter: (value, record) => record.courseName.includes(value),\r\n        sorter: (a, b) => (a.courseName).localeCompare(b.courseName),\r\n        sortOrder: sortedInfo.columnKey === 'courseName' && sortedInfo.order,\r\n        ellipsis: true,\r\n      },\r\n      {\r\n        title: '申請種類',\r\n        dataIndex: 'type',\r\n        key: 'type',\r\n        filters: [\r\n          { text: '轉系', value: '轉系' },\r\n          { text: '雙主修', value: '雙主修' },\r\n          { text: '輔系', value: '輔系' },\r\n\t\t],\r\n        filteredValue: filteredInfo.type || null,\r\n\t\t//There cannot be {} after => !!! What the hell\r\n        onFilter: (value, record) => record.type.includes(value),\r\n        sorter: (a, b) => typeSorter(a.type, b.type),\r\n        sortOrder: sortedInfo.columnKey === 'type' && sortedInfo.order,\r\n        ellipsis: true,\r\n      },\r\n      {\r\n        title: '此課程成績',\r\n        dataIndex: 'grade',\r\n        key: 'grade',\r\n        sorter: (a, b) => gradeMapScore(a.grade) - gradeMapScore(b.grade),\r\n        sortOrder: sortedInfo.columnKey === 'grade' && sortedInfo.order,\r\n        ellipsis: true,\r\n      },\r\n      {\r\n        title: '申請年度GPA',\r\n        dataIndex: 'gpa',\r\n        key: 'gpa',\r\n        sorter: (a, b) => a.gpa - b.gpa,\r\n        sortOrder: sortedInfo.columnKey === 'gpa' && sortedInfo.order,\r\n        ellipsis: true,\r\n      },\r\n\t  {\r\n        title: '是否成功',\r\n        dataIndex: 'success',\r\n        key: 'success',\r\n        filters: [\r\n          { text: '申請成功', value: true },\r\n          { text: '申請失敗', value: false },\r\n\t\t],\r\n        filteredValue: filteredInfo.success || null,\r\n        onFilter: (value, record) => record.success === value,\r\n        ellipsis: true,\r\n    \trender: success => (\r\n\t\t\t\tsuccess === true\r\n\t\t\t\t?\r\n\t\t\t\t\t<Badge status=\"success\"/>\r\n\t\t\t\t:\r\n\t\t\t\t\t<Badge status=\"error\" />)\r\n\t  }\r\n    ];\r\n\r\n\r\n\tconst columnsRWD = [\r\n      {\r\n        title: '課程',\r\n        dataIndex: 'courseName',\r\n        key: 'courseName',\r\n        filters: courseFilter,\r\n        filteredValue: filteredInfo.courseName || null,\r\n        onFilter: (value, record) => record.courseName.includes(value),\r\n        // sorter: (a, b) => (a.courseName).localeCompare(b.courseName),\r\n        // sortOrder: sortedInfo.columnKey === 'courseName' && sortedInfo.order,\r\n        ellipsis: true,\r\n\t\twidth:170,\r\n      },\r\n    //   {\r\n    //     title: '類別',\r\n    //     dataIndex: 'type',\r\n    //     key: 'type',\r\n    //     filters: [\r\n    //       { text: '轉系', value: '轉系' },\r\n    //       { text: '雙主修', value: '雙主修' },\r\n    //       { text: '輔系', value: '輔系' },\r\n\t// \t],\r\n    //     filteredValue: filteredInfo.type || null,\r\n\t// \t//There cannot be {} after => !!! What the hell\r\n    //     onFilter: (value, record) => record.type.includes(value),\r\n    //     // sorter: (a, b) => typeSorter(a.type, b.type),\r\n    //     // sortOrder: sortedInfo.columnKey === 'type' && sortedInfo.order,\r\n    //     ellipsis: true,\r\n    //   },\r\n      {\r\n        title: '成績',\r\n        dataIndex: 'grade',\r\n        key: 'grade',\r\n        sorter: (a, b) => gradeMapScore(a.grade) - gradeMapScore(b.grade),\r\n        sortOrder: sortedInfo.columnKey === 'grade' && sortedInfo.order,\r\n        ellipsis: true,\r\n      },\r\n    //   {\r\n    //     title: 'GPA',\r\n    //     dataIndex: 'gpa',\r\n    //     key: 'gpa',\r\n    //     sorter: (a, b) => a.gpa - b.gpa,\r\n    //     sortOrder: sortedInfo.columnKey === 'gpa' && sortedInfo.order,\r\n    //     ellipsis: true,\r\n    //   },\r\n\t  {\r\n        title: '成功',\r\n        dataIndex: 'success',\r\n        key: 'success',\r\n        filters: [\r\n          { text: '申請成功', value: true },\r\n          { text: '申請失敗', value: false },\r\n\t\t],\r\n        filteredValue: filteredInfo.success || null,\r\n        onFilter: (value, record) => record.success === value,\r\n        ellipsis: true,\r\n    \trender: success => (\r\n\t\t\t\tsuccess === true\r\n\t\t\t\t?\r\n\t\t\t\t\t<Badge status=\"success\"/>\r\n\t\t\t\t:\r\n\t\t\t\t\t<Badge status=\"error\" />)\r\n\t  }\r\n    ];\r\n\r\n\t// expandedRowRender = \r\n\r\n\r\n  \r\n  \treturn (\r\n\t\tlabel\r\n\t\t?\r\n\t\t<div style={{margin:\"auto\"}}>\r\n\t\t<ConfigProvider renderEmpty={true && emptyConfig}>\t\r\n\t\t<h5 style={{textAlign:\"center\", marginBottom:\"20px\", marginTop:\"50px\"}}>申請者修習課程</h5> \r\n\t\t{deviceWidth > RWD_SIZE\r\n\t\t\t?\r\n\t\t\t<Table key={times} columns={columns} dataSource={allData} onChange={handleChange} style={{width:\"700px\", margin:\"auto\"}} pagination = {{ position: ['none','bottomCenter'] ,pageSize:20,}}\r\n\t\t\texpandable={{expandedRowRender: record => <>\r\n\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{record.thisCourseInfo}</p>\t\r\n\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.description}</p>\r\n\t\t\t\t\t\t\t\t\t{record.note.length > 0\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{\"\\n他分享的提醒是：\\n\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.note}</p>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</>\t\r\n\t\t\t\t\t\t\t\t\t}}/>\r\n\t\t\t:\r\n\t\t\t<Table key={times} columns={columnsRWD} dataSource={allData} onChange={handleChange} style={{width:\"700px\", margin:\"auto\"}}  pagination = {{ position: ['none','bottomCenter'] ,pageSize:20,}}\r\n\t\t\texpandable={{expandedRowRender:record =><>\r\n\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{record.thisCourseInfo}</p>\r\n\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.description}</p>\r\n\t\t\t\t\t\t\t\t\t{record.note.length > 0\r\n\t\t\t\t\t\t\t\t\t?\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{\"\\n他分享的提醒是：\\n\"}</p>\r\n\t\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.note}</p>\t\t\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t:\r\n\t\t\t\t\t\t\t\t\t\t<></>\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t</>}}/>\r\n\t\t}\r\n\t\t</ConfigProvider>\r\n\t\t</div>\r\n\t\t:\r\n\t\t<h3>還沒有人分享資料QQ</h3>\r\n\t)\r\n\r\n\t\t\r\n\r\n\t\r\n  \r\n};\r\n\r\nexport default TakenCourse;","import {Scatter } from 'react-chartjs-2'\r\nimport { useEffect } from 'react';\r\n\r\nconst EnterGPAChart = ({gpaData, gpaDataFail, deviceWidth}) => {\r\n\t// 102~110年轉入資料，共9年\r\n\t// tool: 調色工具 https://www.colorhexa.com/\r\n\t// 要用state 變數，不然在畫圖時prop變數還沒傳進來，會是空的圖，而chart沒用到state，也不會自動render\r\n\t// const ata = [{'x':110,'y':4.3},  {'x':110,'y':1}, {'x':110, 'y':3}, {x:109, 'y':3}, {x:108, 'y':3}]\r\n\t// const a = [[110,4.2], [110,4.1] , [110,4.05], [110,2.2], [110, 3.3]]\r\n\tuseEffect(() => {\r\n\t\tconsole.log(gpaData)\r\n\t}, []);\r\n\tconst data = {\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '申請成功GPA分佈',\r\n\t\t\t\tdata: gpaData,\r\n\t\t\t\t// data: dataTrans,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#90EE90',\r\n\t\t\t\tborderColor: '#90EE90',\r\n\t\t\t\tpointRadius: 8,\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '申請失敗GPA分佈',\r\n\t\t\t\tdata: gpaDataFail,\r\n\t\t\t\t// data: dataDouble,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#DD536C',\r\n\t\t\t\tborderColor: '#DD536C',\r\n\t\t\t\tpointRadius: 8,\r\n\t\t\t},\t\r\n\t\t],\r\n\t};\r\n\r\n\tif(gpaDataFail.length === 0){\r\n\t\tdata.datasets[1].label = \"申請失敗無人分享\"\r\n\t}\r\n\tif(gpaData.length === 0){\r\n\t\tdata.datasets[0].label = \"申請成功無人分享\"\r\n\t}\r\n\r\n\r\n\tconst options = {\r\n\t\t// doc:https://www.chartjs.org/docs/latest/axes/cartesian/linear.html#grace\r\n\t\tmaintainAspectRatio: false,\r\n\t\tresponsive:true,\r\n\t\t\r\n\t\tscales: {\r\n\t\t\tx: {\r\n\t\t\t\tticks: {\r\n\t\t\t\t\tstepSize: 1,\r\n\t\t\t\t\tcallback: function(value, index, ticks) {\r\n                        return value + '年' ;\r\n                    }\r\n\t\t\t\t},\r\n\t\t\t\tmin: 102,\r\n\t\t\t\tmax:111\r\n\t\t\t},\r\n\t\t \ty: {\r\n\t\t \t\t// beginAtZero: true,\r\n\t\t\t\t// min: 0,\r\n\t\t\t\tmax: 4.3,\r\n\r\n\t\t\t}\r\n\t\t},\r\n\t\tplugins: {\r\n            legend: {\r\n                labels: {\r\n\t\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n                    font: {\r\n                        size: 15,\r\n\t\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\t\tweight: \"bold\"\r\n                    }\r\n                },\r\n            },\r\n\t\t\t// doc: https://www.chartjs.org/docs/latest/configuration/title.html\r\n\t\t\ttitle: {\r\n\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n\t\t\t\tfont: {\r\n\t\t\t\t\tsize: 20,\r\n\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\tweight: \"bold\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n        },\t\t\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{margin:\"auto\", maxWidth:500}}>\r\n\t\t\t{/* <div className='header'>\r\n\t\t\t<h1 className='title'>申請人數比較</h1> */}\r\n\t\t\t{/* </div> */}\r\n\t\t\t{/* 必須加redraw 才能利用變數改變大小 */}\r\n\t\t\t{/* 但redraw 會無法繪圖? */}\r\n\t\t\t{/* <Line data={data} options={options} width={deviceWidth-20} height={300} redraw={true}/> */}\r\n\t\t\t{ gpaData.length + gpaDataFail.length >= 1\r\n\t\t\t?\t\t\t\r\n\t\t\t<Scatter data={data} options={options} height={300}/>\r\n\t\t\t:\r\n\t\t\t<p style={{textAlign:\"center\", fontSize:\"14px\"}}> 資料太少啦</p>\r\n\t\t\t}\r\n\t\t</div>\r\n\t\t\r\n\t)\r\n\r\n}\r\n\r\nexport default EnterGPAChart;","// import Chart from 'chart.js/auto';\r\nimport {Line } from 'react-chartjs-2'\r\n\r\nimport { useEffect, useState } from 'react';\r\nconst ApplyPeopleChart = ({transApplyNum, doubleApplyNum, minorApplyNum, deviceWidth}) => {\r\n\t// 102~110年轉入資料，共9年\r\n\t// tool: 調色工具 https://www.colorhexa.com/\r\n\r\n\tconst [chartWidth, setChartWidth] = useState(0);\r\n\r\n\tuseEffect(() => {\r\n\t\tconsole.log(deviceWidth)\r\n\t\tif(deviceWidth > 750 )\r\n\t\t\tsetChartWidth(600)\r\n\t\telse\r\n\t\t\tsetChartWidth(360)\r\n\t}, []);\r\n\r\n\tuseEffect(()=>{\r\n\t\tif(transApplyNum.length < 5){\r\n\t\t\tfor(let i = 0 ; i < transApplyNum.length-5; i++){\r\n\t\t\t\ttransApplyNum.push(0)\r\n\t\t\t}\r\n\t\t}\r\n\t},[])\r\n\r\n\tconst data = {\r\n\t\tlabels: ['107年', '108年', '109年', '110年', '111年'],\r\n\t\tdatasets: [\r\n\t\t\t{\r\n\t\t\t\tlabel: '申請轉入人數',\r\n\t\t\t\tdata: transApplyNum,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#B15BFF',\r\n\t\t\t\tborderColor: '#B15BFF',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\tlabel: '申請雙主修人數',\r\n\t\t\t\tdata: doubleApplyNum,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#5BC5DB',\r\n\t\t\t\tborderColor: '#5BC5DB',\r\n\t\t\t},\r\n\t\t\t{\r\n\t\t\t\t\r\n\t\t\t\tlabel: '申請輔系人數',\r\n\t\t\t\tdata: minorApplyNum,\r\n\t\t\t\tfill: false,\r\n\t\t\t\tbackgroundColor: '#f58155',\r\n\t\t\t\tborderColor: '#f58155',\r\n\t\t\t},\t\t\t\r\n\t\t],\r\n\t};\r\n\r\n\tif(minorApplyNum.length === 0){\r\n\t\tdata.datasets[2].label = \"此系不開放輔系\"\r\n\t}\r\n\tif(doubleApplyNum.length === 0){\r\n\t\tdata.datasets[1].label = \"此系不開放雙主修\"\r\n\t}\r\n\tif(transApplyNum.length === 0){\r\n\t\tdata.datasets[0].label = \"此系不開放轉系\"\r\n\t}\r\n\r\n\tconst options = {\r\n\t\t// doc:https://www.chartjs.org/docs/latest/axes/cartesian/linear.html#grace\r\n\t\tmaintainAspectRatio: false,\r\n\t\tresponsive:true,\r\n\t\tscales: {\r\n\t\t \ty: {\r\n\t\t \t\tbeginAtZero: true,\r\n\t\t\t\t ticks: {\r\n                    // Include a dollar sign in the ticks\r\n                    callback: function(value, index, ticks) {\r\n                        return value + '人' ;\r\n                    }\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t},\r\n\t\tplugins: {\r\n            legend: {\r\n                labels: {\r\n\t\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n                    font: {\r\n                        size: 15,\r\n\t\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\t\tweight: \"bold\"\r\n                    }\r\n\r\n                },\r\n            },\r\n\t\t\t// doc: https://www.chartjs.org/docs/latest/configuration/title.html\r\n\t\t\ttitle: {\r\n\t\t\t\t// doc: https://www.chartjs.org/docs/latest/general/fonts.html\r\n\t\t\t\tfont: {\r\n\t\t\t\t\tsize: 20,\r\n\t\t\t\t\tlineHeight: 15,\r\n\t\t\t\t\tfamily: \"Abel\",\r\n\t\t\t\t\tweight: \"bold\"\r\n\t\t\t\t}\r\n\t\t\t},\r\n\r\n        },\t\t\r\n\t};\r\n\r\n\r\n\treturn (\r\n\t\t<div style={{margin:\"auto\",maxWidth:500}}>\r\n\t\t\t{/* <div className='header'>\r\n\t\t\t<h1 className='title'>申請人數比較</h1> */}\r\n\t\t\t<div className='links'>\r\n\t\t\t</div>\r\n\t\t\t{/* </div> */}\r\n{/* 必須加redraw 才能利用變數改變大小 */}\r\n\t\t\t{/* <Line data={data} options={options} width={deviceWidth-50} height={300}/> */}\r\n\t\t\t{/* 直接在option 中設定 responsive 為 ture */}\r\n\t\t\t<Line data={data} options={options} height={300}/>\r\n\t\t</div>\r\n\t\t\r\n\t)\r\n\r\n}\r\n\r\nexport default ApplyPeopleChart;","const Loading = ({modalRef}) => {\r\n\treturn (\r\n      <div id=\"myModal\" class=\"modal\" ref={modalRef}>\r\n        <div class=\"modal-content\">\r\n          <div class=\"loading\"/>\r\n        </div>\r\n      </div>\r\n\t)\r\n}\r\n\r\nexport default Loading;\r\n","import { Badge, Table } from 'antd';\nimport { useState, useEffect } from 'react';\nimport { ConfigProvider } from 'antd';\nimport emptyConfig from './emptyConfig';\nconst RWD_SIZE = 800\n\nconst PeopleShareTable  = ({label, takenCourse, takenCourseFail, compulsory, deviceWidth})  => {\n\n    const [filteredInfo, setFilteredInfo] = useState({})\n    const [sortedInfo, setSortedInfo] = useState({})\t\n\tconst [allData, setAllData] = useState([])\n\tconst [courseFilter, setCourseFilter] = useState([])\n\tconst [times, setTimes] = useState(0)\n    const mapCourseID2CourseName = (course_id) => {\n        let name = \"\"\n        for(let i = 0; i < compulsory.length; i++){\n            if (compulsory[i].course_id === course_id){\n                name = compulsory[i].course_name;\n                return name\n            }\n        }\n    }\n\n    useEffect(() => {\n\t\tsetFilteredInfo({})\n\t\tsetSortedInfo({})\n\t\tlet data = []\n\t\tlet filter = []\n\t\tlet appearCourse = []\n\t\tlet sameDataIdText = {}\n\t\tlet sameDataIdTextFail = {}\n\t\tconsole.log(takenCourse)\n\t\tfor(let i = 0; i < takenCourse.length; i++){\n\t\t\tif(takenCourse[i].course_id === \"這個人沒修過課，單純回傳GPA\")\n\t\t\t\tcontinue\n\t\t\tlet name = mapCourseID2CourseName(takenCourse[i].course_id)\n\t\t\tif(takenCourse[i].data_id in sameDataIdText)\n\t\t\t\tsameDataIdText[takenCourse[i].data_id] += `${name} ${takenCourse[i].grade}\\n`\n\t\t\telse \n\t\t\t\tsameDataIdText[takenCourse[i].data_id] = `${name} ${takenCourse[i].grade}\\n`\n\n\t\t}\n\t\tfor(let i = 0; i < takenCourseFail.length; i++){\n\t\t\tif(takenCourseFail[i].course_id === \"這個人沒修過課，單純回傳GPA\")\n\t\t\t\tcontinue\n\t\t\tlet name = mapCourseID2CourseName(takenCourseFail[i].course_id)\n\t\t\tif(takenCourseFail[i].data_id in sameDataIdTextFail)\n\t\t\t\tsameDataIdTextFail[takenCourseFail[i].data_id] += `${name} ${takenCourseFail[i].grade}\\n`\n\t\t\telse \n\t\t\t\tsameDataIdTextFail[takenCourseFail[i].data_id] = `${name} ${takenCourseFail[i].grade}\\n`\n\n\t\t}\t\n\t\tfor(let i = 0; i < takenCourse.length; i++){\n\t\t\tif(takenCourse[i].course_id === \"這個人沒修過課，單純回傳GPA\")\n\t\t\t\tcontinue\n\t\t\tlet course_name = mapCourseID2CourseName(takenCourse[i].course_id)\n\t\t\tlet type = \"\"\n\t\t\tswitch(takenCourse[i].type){\n\t\t\t\tcase \"Transfer\":\n\t\t\t\t\ttype = \"轉系\"\t\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"DoubleMajor\":\n\t\t\t\t\ttype = \"雙主修\"\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Minor\":\n\t\t\t\t\ttype = \"輔系\"\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet text = `這位同學`\n\t\t\tif(deviceWidth <= RWD_SIZE)\n\t\t\t\ttext += `申請的類別為 ${type}\n\t\t\t\t\t\t申請年度的GPA平均為 ${takenCourse[i].gpa}\\n全部修過相關的課為：\\n`\n\t\t\telse\n\t\t\t\ttext += `修過所有相關的課為：\\n`\n\t\t\tlet gpa = takenCourse[i].gpa\n\t\t\tif(gpa.length > 4)\n\t\t\t\tgpa = gpa.substring(0, 4)\n            let duplicate = false\n            for(let j = 0; j < data.length; j++){\n                if(data[j].data_id === takenCourse[i].data_id){\n                    duplicate = true\n                }\n            }\n\n            if (duplicate === true) continue\n\t\t\tdata.push({\"key\": i + 1, \"type\":type, \"gpa\":gpa, \"note\":takenCourse[i].note, success:true,\n                        \"data_id\": takenCourse[i].data_id, \"ori_dep\":takenCourse[i].ori_dep,\n\t\t\t\t\t\t\"year\":takenCourse[i].year, \"description\":sameDataIdText[takenCourse[i].data_id], \"thisCourseInfo\":text})\n\t\t\n\t\t\tif(appearCourse.indexOf(course_name) === -1){\t\n\t\t\t\tfilter.push({\"text\":course_name, \"value\":course_name})\n\t\t\t\tappearCourse.push(course_name)\n\t\t\t}\n\n\t\t}\n\n\t\tlet data2 = []\n\t\tfor(let i = 0; i < takenCourseFail.length; i++){\n\t\t\tif(takenCourseFail[i].course_id === \"這個人沒修過課，單純回傳GPA\")\n\t\t\t\tcontinue\n\t\t\tlet course_name = mapCourseID2CourseName(takenCourseFail[i].course_id)\n\t\t\tlet type = \"\"\n\t\t\tswitch(takenCourseFail[i].type){\n\t\t\t\tcase \"Transfer\":\n\t\t\t\t\ttype = \"轉系\"\t\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"DoubleMajor\":\n\t\t\t\t\ttype = \"雙主修\"\n\t\t\t\t\tbreak;\n\t\t\t\tcase \"Minor\":\n\t\t\t\t\ttype = \"輔系\"\n\t\t\t\t\tbreak;\n\t\t\t}\n\t\t\tlet text = `這位同學`\n\t\t\tif(deviceWidth <= RWD_SIZE)\n\t\t\t\ttext += `申請的類別為 ${type}\n\t\t\t\t\t\t申請年度的GPA平均為 ${takenCourseFail[i].gpa}\\n全部修過相關的課為：\\n`\n\t\t\telse\n\t\t\t\ttext += `修過所有相關的課為：\\n`\n\t\t\tlet gpa = takenCourseFail[i].gpa\n\t\t\tif(gpa.length > 4)\n\t\t\t\tgpa = gpa.substring(0, 4)\n\n            let duplicate = false\n            for(let j = 0; j < data2.length; j++){\n                if(data2[j].data_id === takenCourseFail[i].data_id){\n                    duplicate = true\n                }\n            }\n            if (duplicate === true) continue\n\t\t\tdata2.push({\"key\": takenCourse.length + data2.length + 1, \"type\":type, \"gpa\":gpa , \"note\":takenCourseFail[i].note, success:false,\n                        \"data_id\": takenCourseFail[i].data_id, \"ori_dep\":takenCourseFail[i].ori_dep,\n\t\t\t\t\t\t\"year\":takenCourseFail[i].year, \"description\":sameDataIdTextFail[takenCourseFail[i].data_id], \"thisCourseInfo\":text})\n\t\t\n\t\t\tif(appearCourse.indexOf(course_name) === -1){\t\n\t\t\t\tfilter.push({\"text\":course_name, \"value\":course_name})\n\t\t\t\tappearCourse.push(course_name)\n\t\t\t}\n\n\t\t}\n\t\tconst data3 = data.concat(data2)\n\n\t\tsetAllData(data3)\n\t\tsetCourseFilter(filter)\n\t\tsetTimes(times+1)\n\t}, [takenCourse]);\n\n    const handleChange = (pagination, filters, sorter) => {\n\t\t\n\t\tsetFilteredInfo(filters)\n\t\tsetSortedInfo(sorter)\n\t\n  \t};\n\n\t\n\tconst typeSorter = (a, b) => {\n\t\tlet a_value = 0\n\t\tlet b_value = 0\n\t\tswitch(a){\n\t\t\tcase \"轉系\":\n\t\t\t\ta_value = 3;\n\t\t\t\tbreak\n\t\t\tcase \"雙主修\":\n\t\t\t\ta_value = 2;\n\t\t\t\tbreak\n\t\t\tcase \"輔系\":\n\t\t\t\ta_value = 1;\n\t\t\t\tbreak\n\t\t}\n\t\tswitch(b){\n\t\t\tcase \"轉系\":\n\t\t\t\tb_value = 3;\n\t\t\t\tbreak\n\t\t\tcase \"雙主修\":\n\t\t\t\tb_value = 2;\n\t\t\t\tbreak\n\t\t\tcase \"輔系\":\n\t\t\t\tb_value = 1;\n\t\t\t\tbreak\n\t\t}\n\t\treturn a_value - b_value\n\t}\n\n    const columns = [\n        {\n            title: '原系所',\n            dataIndex: 'ori_dep',\n            key: 'ori_dep',\n            ellipsis: true,\n        },\n        {\n            title: '年度',\n            dataIndex: 'year',\n            key: 'year',\n            ellipsis: true,\n        },\n        {\n            title: '申請種類',\n            dataIndex: 'type',\n            key: 'type',\n            filters: [\n            { text: '轉系', value: '轉系' },\n            { text: '雙主修', value: '雙主修' },\n            { text: '輔系', value: '輔系' },\n            ],\n            filteredValue: filteredInfo.type || null,\n            //There cannot be {} after => !!! What the hell\n            onFilter: (value, record) => record.type.includes(value),\n            sorter: (a, b) => typeSorter(a.type, b.type),\n            sortOrder: sortedInfo.columnKey === 'type' && sortedInfo.order,\n            ellipsis: true,\n        },\n        {\n            title: '申請年度GPA',\n            dataIndex: 'gpa',\n            key: 'gpa',\n            sorter: (a, b) => a.gpa - b.gpa,\n            sortOrder: sortedInfo.columnKey === 'gpa' && sortedInfo.order,\n            ellipsis: true,\n        },\n        {\n            title: '是否成功',\n            dataIndex: 'success',\n            key: 'success',\n            filters: [\n            { text: '申請成功', value: true },\n            { text: '申請失敗', value: false },\n            ],\n            filteredValue: filteredInfo.success || null,\n            onFilter: (value, record) => record.success === value,\n            ellipsis: true,\n            render: success => (\n                    success === true\n                    ?\n                        <Badge status=\"success\"/>\n                    :\n                        <Badge status=\"error\" />)\n        }\n    ];\n\n    const columnsRWD = [\n        {\n            title: '類別',\n            dataIndex: 'type',\n            key: 'type',\n            filters: [\n            { text: '轉系', value: '轉系' },\n            { text: '雙主修', value: '雙主修' },\n            { text: '輔系', value: '輔系' },\n            ],\n            filteredValue: filteredInfo.type || null,\n            //There cannot be {} after => !!! What the hell\n            onFilter: (value, record) => record.type.includes(value),\n            sorter: (a, b) => typeSorter(a.type, b.type),\n            sortOrder: sortedInfo.columnKey === 'type' && sortedInfo.order,\n            ellipsis: true,\n        },\n        {\n            title: 'GPA',\n            dataIndex: 'gpa',\n            key: 'gpa',\n            sorter: (a, b) => a.gpa - b.gpa,\n            sortOrder: sortedInfo.columnKey === 'gpa' && sortedInfo.order,\n            ellipsis: true,\n        },\n        {\n            title: '成功',\n            dataIndex: 'success',\n            key: 'success',\n            filters: [\n            { text: '申請成功', value: true },\n            { text: '申請失敗', value: false },\n            ],\n            filteredValue: filteredInfo.success || null,\n            onFilter: (value, record) => record.success === value,\n            ellipsis: true,\n            render: success => (\n                    success === true\n                    ?\n                        <Badge status=\"success\"/>\n                    :\n                        <Badge status=\"error\" />)\n        }\n    ];\n\n    return (\n\t\tlabel\n\t\t?\n\t\t<div style={{margin:\"auto\"}}>\n\t\t<ConfigProvider renderEmpty={true && emptyConfig}>\t\n\t\t<h5 style={{textAlign:\"center\", marginBottom:\"20px\", marginTop:\"50px\"}}>申請者資訊分享</h5> \n\t\t{deviceWidth > RWD_SIZE\n\t\t\t?\n\t\t\t<Table key={times} columns={columns} dataSource={allData} onChange={handleChange} style={{width:\"700px\", margin:\"auto\"}} pagination = {{ position: ['none','bottomCenter'] ,pageSize:20,}}\n\t\t\texpandable={{expandedRowRender: record => <>\n\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{record.thisCourseInfo}</p>\t\n\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.description}</p>\n\t\t\t\t\t\t\t\t\t{record.note.length > 0\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{\"\\n他分享的提醒是：\\n\"}</p>\n\t\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.note}</p>\t\t\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</>\t\n\t\t\t\t\t\t\t\t\t}}/>\n\t\t\t:\n\t\t\t<Table key={times} columns={columnsRWD} dataSource={allData} onChange={handleChange} style={{width:\"700px\", margin:\"auto\"}}  pagination = {{ position: ['none','bottomCenter'] ,pageSize:20,}}\n\t\t\texpandable={{expandedRowRender:record =><>\n\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{record.thisCourseInfo}</p>\n\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.description}</p>\n\t\t\t\t\t\t\t\t\t{record.note.length > 0\n\t\t\t\t\t\t\t\t\t?\n\t\t\t\t\t\t\t\t\t\t<>\n\t\t\t\t\t\t\t\t\t\t<p style={{margin: 0, whiteSpace: \"pre-line\" }}>{\"\\n他分享的提醒是：\\n\"}</p>\n\t\t\t\t\t\t\t\t\t\t<p style={{ margin: \"auto\", whiteSpace: \"pre-line\", color:\"#005757\"}}>{record.note}</p>\t\t\n\t\t\t\t\t\t\t\t\t\t</>\n\t\t\t\t\t\t\t\t\t:\n\t\t\t\t\t\t\t\t\t\t<></>\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t</>}}/>\n\t\t}\n\t\t</ConfigProvider>\n\t\t</div>\n\t\t:\n\t\t<h3>還沒有人分享資料QQ</h3>\n\t)\n}\n\nexport default PeopleShareTable;","import * as React from 'react';\nimport clsx from 'clsx';\nimport { styled } from '@mui/system';\nimport { useSwitch } from '@mui/base/SwitchUnstyled';\n\nconst blue = {\n700: '#0059B2',\n};\n\nconst grey = {\n400: '#BFC7CF',\n800: '#2F3A45',\n};\n\nconst SwitchRoot = styled('span')`\ndisplay: inline-block;\nposition: relative;\nwidth: 64px;\nheight: 36px;\npadding: 8px;\n`;\n\nconst SwitchInput = styled('input')`\nposition: absolute;\nwidth: 100%;\nheight: 100%;\ntop: 0;\nleft: 0;\nopacity: 0;\nz-index: 1;\nmargin: 0;\ncursor: pointer;\n`;\n\nconst SwitchThumb = styled('span')`\nposition: absolute;\ndisplay: block;\nbackground-color: #5BC5DB;\nwidth: 30px;\nheight: 30px;\nborder-radius: 8px;\ntop: 3px;\nleft: 4px;\ntransition: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);\n\n&::before {\n    display: block;\n    content: '';\n    width: 100%;\n    height: 100%;\n    center center no-repeat;\n}\n\n&.focusVisible {\n    background-color: #79b;\n}\n\n&.checked {\n    transform: translateX(24px);\n\n    &::before {\n    \n    }\n}\n`;\n\nconst SwitchTrack = styled('span')(\n({ theme }) => `\nbackground-color: ${theme.palette.mode === 'dark' ? grey[800] : grey[400]};\nborder-radius: 4px;\nwidth: 100%;\nheight: 100%;\ndisplay: block;\n`,\n);\n\nfunction MUISwitch(props) {\nconst { getInputProps, checked, disabled, focusVisible } = useSwitch(props);\n\nconst stateClasses = {\n    checked,\n    disabled,\n    focusVisible,\n};\n\nreturn (\n    <SwitchRoot className={clsx(stateClasses)}>\n    <SwitchTrack>\n        <SwitchThumb className={clsx(stateClasses)} />\n    </SwitchTrack>\n    <SwitchInput {...getInputProps()} aria-label=\"Demo switch\" />\n    </SwitchRoot>\n);\n}\n\nexport default function TableSwitch({Table, setTable}) {\n    return <MUISwitch defaultChecked onChange={()=> setTable(!Table)}/>;\n}","import { Button} from '@chakra-ui/react'\nimport { FaGithub , FaRegFileAlt} from 'react-icons/fa'\n\nconst Footer = () => {\n    return (\n        <>\n            <br/><br/><br/><br/>\n            <hr></hr>\n            <div className=\"footer\">\n                <div>\n                    <b>Made with ❤️ by NTU TMD Team</b>\n                        <a href='https://github.com/jeffery12697/NTU-TMD_for_public' style={{color: \"inherit\", textDecoration: \"inherit\"}}>\n                            <Button colorScheme='github' leftIcon={<FaGithub />} style={{paddingLeft:\"10px\"}}>\n                            github\n                            </Button>\n                        </a>\n                        <a href='https://forms.gle/ZnZoTvGpk6oyvxBQ8' style={{color: \"inherit\", textDecoration: \"inherit\"}}>\n                            <Button leftIcon={<FaRegFileAlt />} style={{paddingLeft:\"10px\"}}>\n                            問題回報\n                            </Button>\n                        </a>\n\n                </div>\n\n            </div>\n        </>\n    )\n}\n\n\nexport default Footer;","import EnterPeopleChart from \"../Components/Enter_People\";\r\nimport EnterCourseChart from \"../Components/Enter_Course\";\r\nimport { useEffect, useRef, useState } from \"react\";\r\nimport {Card, Button, Tooltip, Divider } from \"antd\";\r\nimport {searchStatistics} from \"../api/Statistics\"\r\nimport UnSelectDepartment from \"../Components/UnSelectDepartment\";\r\nimport { searchTakenCourse, searchTakenCourseFail } from \"../api/SharedData\";\r\nimport {ProfileTwoTone, FundTwoTone} from \"@ant-design/icons\" \r\nimport TakenCourse from \"../Components/ShareData\";\r\nimport EnterGPAChart from \"../Components/Enter_GPA\"\r\nimport ApplyPeopleChart from \"../Components/Apply_People\";\r\nimport Loading from \"../Components/Loading2\";\r\nimport PeopleShareTable from \"../Components/PeopleShareTable\";\r\nimport TableSwitch from '../Components/TableSwitch'\r\nimport Footer from \"../Components/Footer\";\r\nconst ChartPage = ({department, current, setCurrent, setSelectAppear,compulsory, setCompulsory}) => {\r\n\r\n\tconst [transStatistics, setTransStatistics] = useState({})\r\n\tconst [doubleStatistics, setDoubleStatistics] = useState({})\r\n\tconst [minorStatistics, setMinorStatistics] = useState({})\r\n\r\n\tconst [transApplyNum, setTransApplyNum] = useState([]);\r\n\tconst [doubleApplyNum, setDoubleApplyNum] = useState([]);\r\n\tconst [minorApplyNum, setMinorApplyNum] = useState([]);\r\n\t\r\n\tconst [transApproveRate, setTransApproveRate] = useState([]);\r\n\tconst [doubleApproveRate, setDoubleApproveRate] = useState([]);\r\n\tconst [minorApproveRate, setMinorApproveRate] = useState([]);\r\n\tconst [takenCourse, setTakenCourse] = useState([]);\r\n\tconst [takenCourseFail, setTakenCourseFail] = useState([]);\r\n\tconst [dataTrans, setDataTrans] = useState([]);\r\n\tconst [dataDouble, setDataDouble] = useState([]);\r\n\tconst [dataMinor, setDataMinor] = useState([]);\r\n\tconst [gpaData, setGpaData] = useState([]);\r\n\tconst [gpaDataFail, setGpaDataFail] = useState([]); \r\n\tconst [label,setLabel] = useState([]);\r\n\tconst modal = useRef(null)\r\n\tconst [deviceWidth, setDeviceWidth] = useState(0);\r\n\tconst [Table, setTable] = useState(false)\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelectAppear(true)\r\n\t\tsetCurrent(\"statistical\")\r\n\t\tsetDeviceWidth(window.innerWidth);\r\n\t}, []);\r\n\r\n\r\n\r\n\tuseEffect( async() =>  {\r\n\r\n\t\tvar thisModal = modal.current;\r\n      \tthisModal.style.display = \"block\";\r\n\t\tif(department !== undefined){\r\n\t\t\tconst data_fail = await searchTakenCourseFail(department)\r\n\t\t\tsetTakenCourseFail(data_fail)\r\n\t\t\tconst data = await searchTakenCourse(department);\r\n\t\t\tsetTakenCourse(data)\r\n\t\t\tconsole.log(data)\r\n\r\n\t\t\tlet shareDataDict = {}\r\n\t\t\tlet shareDataFailDict = {}\r\n\t\t\tfor(let i = 0; i < data.length; i++){\r\n\t\t\t\tif(data[i].data_id in shareDataDict)\r\n\t\t\t\t\tcontinue\r\n\t\t\t\telse\t\r\n\t\t\t\t\tshareDataDict[data[i].data_id] = [parseInt(data[i].year), data[i].gpa]\r\n\t\t\t}\r\n\t\t\tfor(let i = 0; i < data_fail.length; i++){\r\n\t\t\t\tif(data_fail[i].data_id in shareDataFailDict)\r\n\t\t\t\t\tcontinue\r\n\t\t\t\telse\t\r\n\t\t\t\t\tshareDataFailDict[data_fail[i].data_id] = [parseInt(data_fail[i].year), data_fail[i].gpa]\r\n\t\t\t}\r\n\t\t\tlet gpaTemp = [];\r\n\t\t\tlet gpaTempFail = [];\r\n\t\t\tfor (const [key, value] of Object.entries(shareDataDict)) {\r\n\t\t\t\tlet index = gpaTemp.findIndex(sublist=> sublist[0] === value[0] && sublist[1] === value[1])\r\n\t\t\t\tif(index=== -1){\r\n\t\t\t\t\t// for bubble chart, we need the size\r\n\t\t\t\t\t// value.push(1)\r\n\t\t\t\t\t// gpaTemp.push(value)\r\n\t\t\t\t\t// for scatter chart\r\n\t\t\t\t\tgpaTemp.push({x:value[0], y:value[1]})\r\n\t\t\t\t}\r\n\t\t\t\t// for bubble chart\r\n\t\t\t\t// else\r\n\t\t\t\t// \tgpaTemp[index][2] += 1;\r\n\t\t\t}\r\n\t\t\tsetGpaData(gpaTemp)\r\n\t\t\tfor (const [key, value] of Object.entries(shareDataFailDict)) {\r\n\t\t\t\tlet index = gpaTempFail.findIndex(sublist=> sublist[0] === value[0] && sublist[1] === value[1])\r\n\t\t\t\tif(index=== -1){\r\n\t\t\t\t\t// for bubble chart, we need the size\r\n\t\t\t\t\t// value.push(1)\r\n\t\t\t\t\tgpaTempFail.push(value)\r\n\t\t\t\t}\r\n\t\t\t\t// else\r\n\t\t\t\t// \tgpaTempFail[index][2] += 1;\r\n\t\t\t}\r\n\t\t\tsetGpaDataFail(gpaTempFail)\r\n\r\n\r\n\t\t\tconst dataTrans = await searchStatistics(department,\"Transfer\");\r\n\t\t\tsetTransStatistics(dataTrans);\r\n\t\t\tconst dataDouble = await searchStatistics(department,\"DoubleMajor\");\r\n\t\t\tsetDoubleStatistics(dataDouble);\r\n\t\t\tconst dataMinor = await searchStatistics(department,\"Minor\");\r\n\t\t\tsetMinorStatistics(dataMinor);\r\n\t\t\t\r\n\t\t\tsetTransApproveRate([])\r\n\r\n\t\t\ttry{\r\n\t\t\t\tlet transTemp = dataTrans.transfer_in_Approval_rate.reverse()\r\n\t\t\t\tlet transYear_ = dataTrans.year.reverse()\r\n\t\t\t\tconst transTmp = convertWithPercent(transTemp, transYear_)\r\n\t\t\t\tsetTransApproveRate(transTmp)\r\n\t\t\t\t\r\n\t\t\t\tlet transApplyTemp = dataTrans.transfer_in_applicants.reverse()\r\n\t\t\t\tsetTransApplyNum(transApplyTemp)\r\n\t\t\t}\r\n\t\t\tcatch (error){\r\n\t\t\t\tconsole.log(\"no transfer data\")\r\n\t\t\t}\r\n\t\t\t\r\n\t\t\tsetDoubleApproveRate([])\r\n\r\n\t\t\ttry{\r\n\t\t\t\tlet doubleTemp = dataDouble.approval_rate.reverse()\r\n\t\t\t\tlet doubleYear_ = dataDouble.year.reverse()\r\n\t\t\t\tconst doubleTmp = convertWithoutPercent(doubleTemp, doubleYear_)\r\n\t\t\t\tsetDoubleApproveRate(doubleTmp)\r\n\r\n\t\t\t\tlet doubleApplyTemp = dataDouble.number_of_applicants.reverse()\r\n\t\t\t\tsetDoubleApplyNum(doubleApplyTemp)\t\t\t\t\r\n\t\t\t}\r\n\t\t\tcatch (error){\r\n\t\t\t\tconsole.log(\"no doublemajor data\")\r\n\t\t\t}\t\r\n\r\n\t\t\tsetMinorApproveRate([])\r\n\t\t\ttry{\r\n\t\t\t\tlet minorTemp = dataMinor.approval_rate.reverse()\r\n\t\t\t\tlet minorYear_ = dataMinor.year.reverse()\r\n\t\t\t\tconst minorTmp = convertWithoutPercent(minorTemp, minorYear_)\r\n\t\t\t\tsetMinorApproveRate(minorTmp)\r\n\t\t\t\t// console.log(minorTmp)\r\n\r\n\t\t\t\tlet minorApplyTemp = dataMinor.number_of_applicants.reverse()\r\n\t\t\t\tsetMinorApplyNum(minorApplyTemp)\t\r\n\t\t\t}\r\n\t\t\tcatch(error){\r\n\t\t\t\tconsole.log(\"no minor data\")\r\n\t\t\t}\r\n\t\r\n\t\t}\r\n    \tthisModal.style.display = \"none\";\t\t\r\n\r\n\t\tconsole.log(gpaData)\r\n\t\t} ,[department]\r\n\t);\r\n\r\n\tuseEffect( async() =>  {\r\n\t\t// const data = await getRequirement();\r\n\t\t\tfor (let i = 0; i < takenCourse.length; i++){\r\n\t\t\t\tlet index = labelTemp.findIndex(course_name => mapCourseName2CourseID(course_name) === takenCourse[i].course_id)\r\n\t\t\t\tif (index === -1){\r\n\t\t\t\t\tlabelTemp.push(mapCourseID2CourseName(takenCourse[i].course_id))\t\r\n\t\t\t\t\tif(takenCourse[i].type === \"Transfer\"){\r\n\t\t\t\t\t\tdataTransTemp.push(1)\r\n\t\t\t\t\t\tdataDoubleTemp.push(0)\r\n\t\t\t\t\t\tdataMinorTemp.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(takenCourse[i].type === \"DoubleMajor\"){\r\n\t\t\t\t\t\tdataTransTemp.push(0)\r\n\t\t\t\t\t\tdataDoubleTemp.push(1)\r\n\t\t\t\t\t\tdataMinorTemp.push(0)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(takenCourse[i].type === \"Minor\"){\r\n\t\t\t\t\t\tdataTransTemp.push(0)\r\n\t\t\t\t\t\tdataDoubleTemp.push(0)\r\n\t\t\t\t\t\tdataMinorTemp.push(1)\r\n\t\t\t\t\t}\r\n\t\t\t\t\tcontinue\t\t\r\n\t\t\t\t}\r\n\t\t\t\tif (takenCourse[i].type === \"Transfer\")\r\n\t\t\t\t\tdataTransTemp[index] += 1\r\n\t\t\t\tif(takenCourse[i].type === \"DoubleMajor\")\r\n\t\t\t\t\tdataDoubleTemp[index] += 1\r\n\t\t\t\tif(takenCourse[i].type === \"Minor\")\r\n\t\t\t\t\tdataMinorTemp[index] += 1\r\n\t\t\t}\r\n\t\t\tsetLabel(labelTemp)\r\n\t\t\tsetDataTrans(dataTransTemp)\r\n\t\t\tsetDataDouble(dataDoubleTemp)\r\n\t\t\tsetDataMinor(dataMinorTemp)\t\t\t\t\r\n\t\t} ,[department]\r\n\t);\r\n\r\n\r\n\r\n\tconst convertWithPercent = (transfer, year) =>{\r\n\t\tlet datas = []\r\n\t\tlet cnt = 0\r\n\t\tfor(let i = 0; i < 5; i++){\r\n\t\t\tdatas.push(\"none\")\r\n\t\t}\r\n\t\tfor(let i = 0; i < 5; i++){\r\n\t\t\tif(year[cnt] == (106+i).toString()){\r\n\t\t\t\tlet tmp = transfer[cnt];\r\n\t\t\t\t// console.log(typeof tmp)\r\n\t\t\t\ttmp = tmp.replace(\"%\",\"\")\r\n\t\t\t\ttmp = parseInt(tmp, 10)\r\n\t\t\t\t// console.log(typeof tmp)\r\n\t\t\t\tdatas[i] = tmp\r\n\t\t\t\tcnt ++ \r\n\t\t\t}\r\n\t\t\tif(cnt >= year.length){\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn datas\r\n\t}\r\n\r\n\tconst convertWithoutPercent = (double, year) =>{\r\n\t\tlet datas = []\r\n\t\tlet cnt = 0\r\n\t\t// 原本應該為 i < transfer.length ，但傳來資料中沒有傳 0，所以無法自動化，TODO:需更改年分\r\n\t\tfor(let i = 0; i < 5; i++){\r\n\t\t\tdatas.push(\"none\")\r\n\t\t}\r\n\t\tfor(let i = 0; i < 5; i++){\r\n\t\t\tif(year[cnt] == (106+i).toString()){\r\n\t\t\t\tlet tmp = double[cnt];\r\n\t\t\t\ttmp = parseInt(tmp, 10)\r\n\t\t\t\t// console.log(typeof tmp)\r\n\t\t\t\tdatas[i] = tmp\r\n\t\t\t\tcnt ++ \r\n\t\t\t}\r\n\t\t\tif(cnt >= year.length){\r\n\t\t\t\tbreak\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn datas\r\n\t}\r\n\r\n\tconst mapCourseName2CourseID = (course_name) => {\r\n\t\t\r\n\t\tlet id = \"\"\r\n\t\tfor(let i = 0; i < compulsory.length; i++){\r\n\t\t\tif (compulsory[i].course_name == course_name){\r\n\t\t\t\tid = compulsory[i].course_id;\r\n\t\t\t\treturn id\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst mapCourseID2CourseName = (course_id) => {\r\n\t\tlet name = \"\"\r\n\t\tfor(let i = 0; i < compulsory.length; i++){\r\n\t\t\tif (compulsory[i].course_id == course_id){\r\n\t\t\t\tname = compulsory[i].course_name;\r\n\t\t\t\treturn name\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\tlet labelTemp = []\r\n\tlet dataTransTemp = []\r\n\tlet dataDoubleTemp = []\r\n\tlet dataMinorTemp = []\r\n\r\n \r\n\r\n\r\n\r\n\treturn(\r\n\t\t\r\n\t\t<div className=\"Charts\" style={{paddingTop:\"10px\"}}>\t\r\n\r\n\t\t\t{\r\n\t\t\t\tdepartment?\r\n\t\t\t\t<>\r\n\t\t\t\t{/* <NavMenu current={current} setCurrent={setCurrent}/> */}\r\n\t\t\t\t<Divider orientation=\"center\" style={{fontSize:\"25px\", padding:\"40px\"}}> <FundTwoTone /> &nbsp;&nbsp;學校公布資料</Divider>\r\n\r\n\t\t\t\t\t<div className=\"card\" style={{margin:\"auto\"}}>\r\n\r\n\t\t\t\t\t<Card title = {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Tooltip title=\"此系有開放雙轉輔申請卻找不到資料?試試搜尋此系不同組別吧~\" color={\"#2db7f5\"} >\r\n\t\t\t\t\t\t<span style={{margin:\"auto\"}}>每年申請人數</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t} bordered={true} hoverable={true}  \r\n\t\t\t\t\t\theadStyle={{fontSize: 20,\r\n\t\t\t\t\t\tfontFamily: \"Noto Sans TC\",\r\n\t\t\t\t\t\tbackgroundColor: '#f0f0f0', border: 0}}>\t\r\n\t\t\t\t\t\t<ApplyPeopleChart transApplyNum={transApplyNum} doubleApplyNum={doubleApplyNum} minorApplyNum={minorApplyNum} deviceWidth={deviceWidth}/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{paddingTop:\"15px\"}}>\r\n\t\t\t\t\t<div className=\"card\" style={{margin:\"auto\"}}>\r\n\t\t\t\t\t<Card title = {\r\n\t\t\t\t\t\t<Tooltip title=\"此系有開放雙轉輔申請卻找不到資料?試試搜尋此系不同組別吧~\" color={\"#2db7f5\"} >\r\n\t\t\t\t\t\t<span style={{margin:\"auto\"}}>每年申請成功人數比例</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t} bordered={true} hoverable={true}  \r\n\t\t\t\t\t\theadStyle={{fontSize: 20,\r\n\t\t\t\t\t\tfontFamily: \"Noto Sans TC\",\r\n\t\t\t\t\t\tbackgroundColor: '#f0f0f0', border: 0}}>\t\r\n\t\t\t\t\t\t<EnterPeopleChart transApproveRate={transApproveRate} doubleApproveRate={doubleApproveRate} minorApproveRate={minorApproveRate} deviceWidth={deviceWidth}/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t<Divider orientation=\"center\" style={{fontSize:\"25px\" , padding:\"40px\"}}><ProfileTwoTone />&nbsp;&nbsp;使用者分享資料</Divider>\r\n\t\t\t\t\t<div className=\"card\" style={{margin:\"auto\"}}>\r\n\t\t\t\t\t<Card title = {\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<Tooltip title=\"看不出來重點？因為分享的人太少啦QQ\" color={\"#2db7f5\"} >\r\n\t\t\t\t\t\t<span style={{margin:\"auto\"}}>申請者 GPA 分佈</span>\r\n\t\t\t\t\t\t</Tooltip>\r\n\t\t\t\t\t\t} bordered={true} hoverable={true}  \r\n\t\t\t\t\t\theadStyle={{fontSize: 20,\r\n\t\t\t\t\t\tfontFamily: \"Noto Sans TC\",\r\n\t\t\t\t\t\tbackgroundColor: '#f0f0f0', border: 0}}>\t\r\n\t\t\t\t\t\t<EnterGPAChart gpaData={gpaData} gpaDataFail={gpaDataFail} deviceWidth={deviceWidth}/>\r\n\t\t\t\t\t</Card>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t<div style={{paddingTop:\"15px\"}}>\t\t\r\n\t\t\t\t\t\t<div className=\"card\" style={{margin:\"auto\"}} >\r\n\t\t\t\t\t\t<Card title=\"成功者分享之修課資訊\" bordered={true} hoverable={true}  \r\n\t\t\t\t\t\t\theadStyle={{fontSize: 20,\r\n\t\t\t\t\t\t\tfontFamily: \"Noto Sans TC\",\r\n\t\t\t\t\t\t\tbackgroundColor: '#f0f0f0', border: 0 }} >\r\n\t\t\t\t\t\t\t<EnterCourseChart label={label} dataTrans={dataTrans} dataDouble={dataDouble} dataMinor={dataMinor} takenCourse={takenCourse} compulsory={compulsory} department={department} deviceWidth={deviceWidth} />\t \r\n\t\t\t\t\t\t</Card>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\t\r\n\t\t\t\t\r\n\t\t\t\t<div className=\"switchButton\">\r\n\t\t\t\t\t<TableSwitch Table={Table} setTable={setTable}/>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t{Table?\r\n\r\n\t\t\t\t<TakenCourse label={label}  takenCourse={takenCourse} takenCourseFail={takenCourseFail} compulsory={compulsory} deviceWidth={deviceWidth}/>\r\n\t\t\t\t:\r\n\t\t\t\t<PeopleShareTable label={label}  takenCourse={takenCourse} takenCourseFail={takenCourseFail} compulsory={compulsory} deviceWidth={deviceWidth}/>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<Footer />\r\n\r\n\t\t\t\t</>\r\n\t\t\t\t:\r\n\t\t\t\t<UnSelectDepartment/>\r\n\t\t\t}\r\n\t\t\t\t<Loading modalRef={modal}/>\r\n\t\t\t\t\r\n\t\t\t\t\r\n\r\n\t\t</div>\r\n\r\n\r\n\r\n\t)\r\n\r\n}\r\n\r\nexport default ChartPage;","const Loading = ({modalRef}) => {\r\n\treturn (\r\n      <div id=\"myModal\" class=\"modal\" ref={modalRef}>\r\n        <div class=\"modal-content\">\r\n          <div class=\"loading\"/>\r\n        </div>\r\n      </div>\r\n\t)\r\n}\r\n\r\nexport default Loading;\r\n","import { useState, useRef } from 'react';\r\nimport { Form, Input, Button, Checkbox, Space, Card, message } from 'antd';\r\nimport { UserOutlined, LockOutlined } from '@ant-design/icons';\r\nimport { getMail, loginCheck } from '../api/User';\r\nimport Loading from \"./Loading\";\r\nimport sha256 from 'crypto-js/sha256'\r\n\r\nconst Login = ({ setMemberName, setIsLogin, setLoginOrRegister, setMemberMail ,setLoginOrForgetPassword, modal}) => {\r\n\tconst [email, setEmail] = useState(\"initialState\");\r\n\tconst [password, setPassword] = useState(\"initialState\");\r\n  \t// const modal =  useRef(null);\r\n\r\n\tconst Submit = async (values) => {\r\n\t\tvar thisModal = modal.current;\r\n\t\tthisModal.style.display = \"block\";\r\n\t\tconst hashDigest = sha256(values.password)\r\n\t\tlet hash = ''\r\n\t\tfor (let i=0; i<hashDigest.words.length; i++) {\r\n\t\t  hash += hashDigest.words[i].toString()\r\n\t\t}\r\n\t\t//去後端根據電子郵件拿密碼\r\n\t\tconst data = await loginCheck(values.username, hash)\r\n\t\tif(data.access){\r\n\t\t\tmessage.success(\"登入成功\")\r\n\t\t\tsetIsLogin(true);\r\n\t\t\tsetMemberName(values.username);\r\n\t\t\tconst mail = await getMail(values.username);\r\n\t\t\tsetMemberMail(mail)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tmessage.error(\"使用者名稱錯誤或密碼錯誤\")\r\n\t\t}\r\n      \tthisModal.style.display = \"none\";\r\n\t};\r\n\r\n\r\n\tconst onChange_Email = (e) => {\r\n\t\tsetEmail(e.target.value)\r\n\t}\r\n\tconst onChange_Password = (e) => {\r\n\t\tsetPassword(e.target.value)\r\n\t}\r\n\r\n\tconst onClickRegister = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoginOrRegister(\"register\")\r\n\t}\r\n\r\n\tconst onClickForgetPassword = (e) => {\r\n\t\te.preventDefault();\r\n\t\tsetLoginOrForgetPassword(\"forgetPassword\")\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t<div className=\"site-card-border-less-wrappe\">\r\n\t\t\t<div className=\"card\" style={{margin:\"auto\"}}>\r\n\t\t\t<Card title=\"登入\" bordered={true} style={{ width: 300 }}>\r\n\t\t\t\t<Form\r\n\t\t\t\t\tname=\"normal_login\"\r\n\t\t\t\t\tclassName=\"login-form\"\r\n\t\t\t\t\tinitialValues={{\r\n\t\t\t\t\t\tremember: true,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tonFinish={Submit}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"username\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '請輸入您的暱稱!',\r\n\t\t\t\t\t\t\t\twhitespace: true,\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tprefix={<UserOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\t\tplaceholder=\"使用者姓名\"\r\n\t\t\t\t\t\t\tonChange={onChange_Email}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t<Form.Item\r\n\t\t\t\t\t\tname=\"password\"\r\n\t\t\t\t\t\trules={[\r\n\t\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\trequired: true,\r\n\t\t\t\t\t\t\t\tmessage: '請輸入你的密碼!',\r\n\t\t\t\t\t\t\t},\r\n\t\t\t\t\t\t]}\r\n\t\t\t\t\t>\r\n\r\n\t\t\t\t\t\t<Input\r\n\t\t\t\t\t\t\tprefix={<LockOutlined className=\"site-form-item-icon\" />}\r\n\t\t\t\t\t\t\ttype=\"password\"\r\n\t\t\t\t\t\t\tplaceholder=\"密碼\"\r\n\t\t\t\t\t\t\tonChange={onChange_Password}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t{/* <Form.Item>\r\n\t\t\t\t\t\t<Form.Item name=\"remember\" valuePropName=\"checked\" noStyle>\r\n\t\t\t\t\t\t\t<Checkbox>記住我</Checkbox>\r\n\t\t\t\t\t\t</Form.Item>\r\n\t\t\t\t\t</Form.Item> */}\r\n\r\n\t\t\t\t\t<Form.Item>\r\n\t\t\t\t\t\t<Space>\r\n\t\t\t\t\t\t\t<button htmlType=\"submit\" className=\"button-style-3\" onClick>\r\n\t\t\t\t\t\t\t\t登入\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t<a onClick={onClickRegister} class=\"underline\" style={{ color:\"#003D79\"}}> 沒有帳號？馬上註冊！</a>\r\n\t\t\t\t\t\t\t\t<br></br>\r\n\t\t\t\t\t\t\t\t<a onClick={onClickForgetPassword} class=\"underline\" style={{ color:\"#003D79\"}}>忘記密碼？</a>\r\n\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t</Space>\r\n\t\t\t\t\t</Form.Item>\r\n\t\t\t\t</Form>\r\n\t\t\t</Card>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t\t{/* <Loading modalRef={modal}/> */}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Login;","import { Space, Card} from \"antd\";\r\nimport { Form,  Input,  Row, Col,  Checkbox,  Button,  message,} from 'antd';\r\nimport { useState ,useRef} from \"react\";\r\nimport {setVerifyCode, createUser} from \"../api/User\"\r\nimport Loading from \"./Loading\";\r\nimport sha256 from 'crypto-js/sha256'\r\nvar modal = document.getElementById(\"myModal\");\r\n\r\n\r\n\r\nconst Register = ( {setLoginOrRegister, modal} ) => {\r\n  const [email, setEmail] = useState(\"\");\r\n  const [password, setPassword] = useState(\"\");\r\n  const [nickname, setNickname] = useState(\"\");\r\n  // const [captcha, setCaptcha] = useState(_uuid());\r\n  const [captcha, setCaptcha] = useState(\"\");\r\n  // const modal =  useRef(null);\r\n\r\n\r\n  const submit = async(values) => {\r\n    var thisModal = modal.current;\r\n    thisModal.style.display = \"block\";\r\n    const hashDigest = sha256(password)\r\n    let hash = ''\r\n    for (let i=0; i<hashDigest.words.length; i++) {\r\n      hash += hashDigest.words[i].toString()\r\n    }\r\n    const result = await createUser(email,captcha,nickname,hash)\r\n\r\n    switch(result){\r\n      case \"Didn't click verify button!\":\r\n        message.error(\"請點擊獲取驗證碼按鈕以獲取驗證碼\", 3)\r\n        break;\r\n      case \"Wrong verify code.\":\r\n        message.error(\"驗證碼錯誤\", 3)\r\n        break;\r\n      case \"username exist!\":\r\n        message.error(\"使用者名稱重複\", 3)\r\n        break;\r\n      case \"mail exist!\":\r\n        message.error(\"信箱已存在\", 3)\r\n        break;\r\n      case \"User created.\":\r\n        message.success(\"成功註冊，請重新登入\", 3)\r\n        setLoginOrRegister(\"login\");\r\n        break;\r\n    }\r\n\r\n      thisModal.style.display = \"none\";\r\n  };\r\n\t\t\r\n\r\n\tconst onClickLogin =(e)=> {\r\n\t\te.preventDefault();\r\n\t\tsetLoginOrRegister(\"login\");\r\n\t}\r\n\tconst getCode = async () => {\r\n\t\tlet emailLower = email.toLowerCase();\r\n    let emailDomain = \"@ntu.edu.tw\";\r\n    let emailDomain2 = \"@g.ntu.edu.tw\"\r\n    if(emailLower.indexOf(\"@\") === -1 || (emailLower.indexOf(\"edu\") === -1 && emailLower.indexOf(\"com\") === -1)){\r\n      message.error(\"請輸入有效之email\")\r\n    }\r\n    else if (emailLower.indexOf(\",\") !== -1 || emailLower.indexOf(\"#\") !== -1 || emailLower.indexOf(\"$\") !== -1 ||\r\n            emailLower.indexOf(\"%\") !== -1  || emailLower.indexOf(\"&\") !== -1 || emailLower.indexOf(\"^\") !== -1){\r\n      message.error(\"請輸入有效之email\")      \r\n    }\r\n    else if (emailLower.indexOf(emailDomain) === -1 && emailLower.indexOf(emailDomain2) === -1){\r\n      message.error('請使用台大信箱註冊');\r\n    }\r\n    else if(emailLower.split('@') <= 2){\r\n      message.error(\"請輸入正確之email\")\r\n    }\r\n    else {\r\n      var thisModal = modal.current;\r\n      thisModal.style.display = \"block\";\r\n      const data = await setVerifyCode(email);\r\n      thisModal.style.display = \"none\";\r\n      if(data === \"User mail exist\")\r\n        message.error(\"此信箱已被註冊\")\r\n      else if (data === \"Good.\")\r\n        message.success(\"已寄出驗證碼\")\r\n    }\r\n  }\r\n\r\n  const onChangeEmail = (e) =>{\r\n    setEmail(e.target.value);\r\n  }\r\n  const onChangePassword = (e) =>{\r\n    setPassword(e.target.value);\r\n  }  \r\n  const onChangeNickname = (e) =>{\r\n    setNickname(e.target.value);\r\n  }\r\n  const onChangeCaptcha = (e) =>{\r\n    setCaptcha(e.target.value);\r\n  }\r\n\r\n\tconst [form] = Form.useForm();\r\n\r\n\tconst formItemLayout = {\r\n    labelCol: {\r\n      xs: {\r\n      span: 24,\r\n      },\r\n      sm: {\r\n      span: 8,\r\n      },\r\n    },\r\n    wrapperCol: {\r\n      xs: {\r\n      span: 24,\r\n      },\r\n      sm: {\r\n      span: 16,\r\n      },\r\n    },\r\n\t};\r\n\tconst tailFormItemLayout = {\r\n    wrapperCol: {\r\n      xs: {\r\n      span: 24,\r\n      offset: 0,\r\n      },\r\n      sm: {\r\n      span: 16,\r\n      offset: 8,\r\n      },\r\n    },\r\n\t};\r\n\r\n  return (\r\n    <>\r\n    <div className=\"site-card-border-less-wrapper\">\r\n      <div className=\"card\" style={{margin:\"auto\"}}>\r\n      <Card  title=\"註冊\" bordered={true} style={{ width: 400 }}>   \r\n      <Form\r\n        {...formItemLayout}\r\n        form={form}\r\n        name=\"register\"\r\n        onFinish={submit}\r\n        scrollToFirstError\r\n      >\r\n        <Form.Item\r\n          name=\"email\"\r\n          label=\"E-mail\"\r\n          rules={[\r\n            {\r\n              type: 'email',\r\n              message: '這不是有效的email!',\r\n            },\r\n            {\r\n              required: true,\r\n              message: '請輸入您的email!',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue('email').indexOf(\"@ntu.edu.tw\") !== -1 || getFieldValue('email').indexOf(\"@g.ntu.edu.tw\") !== -1) {\r\n                  return Promise.resolve();\r\n                }\r\n                return Promise.reject(new Error('請使用台大信箱註冊!'));\r\n              },\r\n            })\r\n          ]}\r\n        >\r\n          <Input onChange={onChangeEmail}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"password\"\r\n          label=\"密碼\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '請輸入您的密碼!',\r\n            },\r\n          ]}\r\n          hasFeedback\r\n        >\r\n          <Input.Password onChange={onChangePassword}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"confirm password\"\r\n          label=\"再次輸入密碼\"\r\n          dependencies={['password']}\r\n          hasFeedback\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '請確認密碼!',\r\n            },\r\n            ({ getFieldValue }) => ({\r\n              validator(_, value) {\r\n                if (!value || getFieldValue('password') === value) {\r\n                  return Promise.resolve();\r\n                }\r\n\r\n                return Promise.reject(new Error('兩次輸入的密碼不一致!'));\r\n              },\r\n            }),\r\n          ]}\r\n        >\r\n          <Input.Password onChange={onChangePassword}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item\r\n          name=\"nickname\"\r\n          label=\"使用者名稱\"\r\n          rules={[\r\n            {\r\n              required: true,\r\n              message: '請輸入您的使用者名稱!',\r\n              whitespace: true,\r\n            },\r\n          ]}\r\n        >\r\n          <Input onChange={onChangeNickname}/>\r\n        </Form.Item>\r\n\r\n        <Form.Item label=\"驗證碼\"  tooltip=\"點擊右側獲取驗證碼後，請去第一欄填的信箱收信\" extra=\"請使用台大信箱 or 台大 g suit 信箱註冊\">\r\n          <Row gutter={8}>\r\n            <Col span={12}>\r\n              <Form.Item\r\n                name=\"captcha\"\r\n                noStyle\r\n\r\n                rules={[\r\n                  {\r\n                    required: true,\r\n                    message: '請輸入寄到您註冊信箱的驗證碼!',\r\n                  },\r\n                ]}\r\n              >\r\n                <Input onChange={onChangeCaptcha}/>\r\n              </Form.Item>\r\n            </Col>\r\n            <Col span={12}>\r\n              <Button onClick={getCode}>獲取驗證碼</Button>\r\n            </Col>\r\n          </Row>\r\n        </Form.Item>\r\n\r\n        <Form.Item         {...tailFormItemLayout}>\r\n          <Space>      \r\n            <button htmlType=\"submit\" className=\"button-style-3\" onClick>\r\n              註冊\r\n            </button>\r\n            <p>\r\n            </p>\r\n            <a onClick={onClickLogin} class=\"underline\" style={{ color:\"#003D79\"}}> 已有帳號?馬上登入!</a>\r\n          </Space>\r\n        </Form.Item>\r\n        </Form>\r\n      </Card>\r\n    </div>     \r\n\r\n    </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Register;","import {Result, Button} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\"\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst HaveLogin = ({memberName}) =>{\r\n\treturn(\r\n\t\t<div style={{paddingTop:\"100px\"}}>\r\n\t\t\t<Result\r\n\t\t\t\ticon={<SmileOutlined twoToneColor=\"red\"/>}\r\n\t\t\t\ttitle={`${memberName} 您好~`}\r\n\t\t\t\textra={<div>歡迎使用本網站</div>}\r\n\t\t\t/>\r\n\t\t\t<div style={{display:\"flex\", justifyContent:\"center\"}}>\r\n\t\t\t\t<Link to=\"/statistical\">\r\n\t\t\t\t\t<button className=\"button-style-3\">\t\r\n\t\t\t\t\t\t回首頁\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</Link>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default HaveLogin;","import { Space, Card} from \"antd\";\nimport { Form,  Input,  Row, Col,  Button,  message,} from 'antd';\nimport { useState ,useRef} from \"react\";\nimport {setVerifyCode, forgetPassword} from \"../api/User\"\nimport Loading from \"./Loading\";\nimport sha256 from 'crypto-js/sha256'\n\n\n\nconst ForgetPassword = ( {setLoginOrForgetPassword, modal} ) => {\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [captcha, setCaptcha] = useState(\"\");\n    // const modal =  useRef(null);\n\n    const submit = async(values) => {\n        var thisModal = modal.current;\n        thisModal.style.display = \"block\";\n        const hashDigest = sha256(password)\n\t\tlet hash = ''\n\t\tfor (let i=0; i<hashDigest.words.length; i++) {\n\t\t  hash += hashDigest.words[i].toString()\n\t\t}\n        const result = await forgetPassword(email,captcha,hash)\n\n        switch(result){\n        case \"User didn't exist!\":\n            message.error(\"信箱錯誤或使用者不存在\", 3)\n            break;\n        case \"Wrong verify code\":\n            message.error(\"驗證碼錯誤\", 3)\n            break;\n        case \"Plz click verify button\":\n            message.error(\"請點擊驗證碼按鈕以獲取驗證碼\", 3)\n            break;\n        default:\n            console.log(result)\n            message.success(`密碼重設成功，\\\n            使用者名稱：${result.username} ， \\\n            請重新登入`, 7)\n            setLoginOrForgetPassword(\"login\");\n            break;\n        }\n\n        thisModal.style.display = \"none\";\n    };\n            \n\n        const onClickLogin =(e)=> {\n            e.preventDefault();\n            setLoginOrForgetPassword(\"login\");\n        }\n        const getCode = async () => {\n            let emailLower = email.toLowerCase();\n        let emailDomain = \"@ntu.edu.tw\";\n        let emailDomain2 = \"@g.ntu.edu.tw\"\n        if(emailLower.indexOf(\"@\") === -1 || (emailLower.indexOf(\"edu\") === -1 && emailLower.indexOf(\"com\") === -1)){\n        message.error(\"請輸入有效之email\")\n        }\n        else if (emailLower.indexOf(\",\") !== -1 || emailLower.indexOf(\"#\") !== -1 || emailLower.indexOf(\"$\") !== -1 ||\n                emailLower.indexOf(\"%\") !== -1  || emailLower.indexOf(\"&\") !== -1 || emailLower.indexOf(\"^\") !== -1){\n        message.error(\"請輸入有效之email\")      \n        }\n        else if (emailLower.indexOf(emailDomain) === -1 && emailLower.indexOf(emailDomain2) === -1){\n        message.error('請使用台大信箱');\n        }\n        else if(emailLower.split('@') <= 2){\n        message.error(\"請輸入正確之email\")\n        }\n        else {\n        var thisModal = modal.current;\n        thisModal.style.display = \"block\";\n        const data = await setVerifyCode(email, \"forgetPassword\");\n        thisModal.style.display = \"none\";\n        if (data === \"Good.\")\n            message.success(\"已寄出驗證碼\", 1)\n        }\n    }\n\n    const onChangeEmail = (e) =>{\n        setEmail(e.target.value);\n    }\n    const onChangePassword = (e) =>{\n        setPassword(e.target.value);\n    }  \n    const onChangeCaptcha = (e) =>{\n        setCaptcha(e.target.value);\n    }\n\n        const [form] = Form.useForm();\n\n        const formItemLayout = {\n        labelCol: {\n        xs: {\n        span: 24,\n        },\n        sm: {\n        span: 8,\n        },\n        },\n        wrapperCol: {\n        xs: {\n        span: 24,\n        },\n        sm: {\n        span: 16,\n        },\n        },\n        };\n        const tailFormItemLayout = {\n        wrapperCol: {\n        xs: {\n        span: 24,\n        offset: 0,\n        },\n        sm: {\n        span: 16,\n        offset: 8,\n        },\n        },\n        };\n\n    return (\n        <>\n        <div className=\"site-card-border-less-wrapper\">\n        <div className=\"card\" style={{margin:\"auto\"}}>\n        <Card  title=\"重設密碼\" bordered={true} style={{ width: 400 }}>   \n        <Form\n            {...formItemLayout}\n            form={form}\n            name=\"forgetPassword\"\n            onFinish={submit}\n            scrollToFirstError\n        >\n            <Form.Item\n            name=\"email\"\n            label=\"E-mail\"\n            rules={[\n                {\n                type: 'email',\n                message: '這不是有效的email!',\n                },\n                {\n                required: true,\n                message: '請輸入您的email!',\n                },\n                ({ getFieldValue }) => ({\n                validator(_, value) {\n                    if (!value || getFieldValue('email').indexOf(\"@ntu.edu.tw\") !== -1 || getFieldValue('email').indexOf(\"@g.ntu.edu.tw\") !== -1) {\n                    return Promise.resolve();\n                    }\n                    return Promise.reject(new Error('請使用台大信箱!'));\n                },\n                })\n            ]}\n            >\n            <Input onChange={onChangeEmail}/>\n            </Form.Item>\n\n            <Form.Item\n            name=\"password\"\n            label=\"新密碼\"\n            rules={[\n                {\n                required: true,\n                message: '請輸入您的新密碼!',\n                },\n            ]}\n            hasFeedback\n            >\n            <Input.Password onChange={onChangePassword}/>\n            </Form.Item>\n\n            <Form.Item\n            name=\"confirm password\"\n            label=\"再次輸入新密碼\"\n            dependencies={['password']}\n            hasFeedback\n            rules={[\n                {\n                required: true,\n                message: '請確認密碼!',\n                },\n                ({ getFieldValue }) => ({\n                validator(_, value) {\n                    if (!value || getFieldValue('password') === value) {\n                    return Promise.resolve();\n                    }\n\n                    return Promise.reject(new Error('兩次輸入的密碼不一致!'));\n                },\n                }),\n            ]}\n            >\n            <Input.Password onChange={onChangePassword}/>\n            </Form.Item>\n\n            <Form.Item label=\"驗證碼\"  tooltip=\"點擊右側獲取驗證碼後，請去第一欄填的信箱收信\">\n            <Row gutter={8}>\n                <Col span={12}>\n                <Form.Item\n                    name=\"captcha\"\n                    noStyle\n\n                    rules={[\n                    {\n                        required: true,\n                        message: '請輸入寄到註冊信箱的驗證碼!',\n                    },\n                    ]}\n                >\n                    <Input onChange={onChangeCaptcha}/>\n                </Form.Item>\n                </Col>\n                <Col span={12}>\n                <Button onClick={getCode}>獲取驗證碼</Button>\n                </Col>\n            </Row>\n            </Form.Item>\n\n            <Form.Item         {...tailFormItemLayout}>\n            <Space>      \n                <button htmlType=\"submit\" className=\"button-style-3\" onClick>\n                重設密碼\n                </button>\n                <div>\n\t\t\t\t\t<a onClick={onClickLogin} class=\"underline\" style={{ color:\"#003D79\"}}> 想到密碼？<br></br>馬上登入！</a>\n\t\t\t\t</div>\n            </Space>\n            </Form.Item>\n            </Form>\n        </Card>\n        </div>     \n\n        </div>\n        {/* <Loading modalRef={modal}/> */}\n        </>\n    );\n};\n\nexport default ForgetPassword;","import { useState,useEffect, useRef } from 'react';\r\n\r\n\r\nimport Loading from '../Components/Loading';\r\nimport Login from \"../Components/Login\"\r\nimport Register from \"../Components/Register\"\r\nimport HaveLogin from '../Components/HaveLogin';\r\nimport ForgetPassword from '../Components/ForgetPassword';\r\n\r\n\r\n\r\nconst LoginPage =({isLogin, memberName,setMemberName, setIsLogin, setSelectAppear, setMemberMail,setCsrfToken, setSessionId, current,  setCurrent}) =>{\r\n\t\r\n\tconst [loginOrRegister,setLoginOrRegister] = useState(\"login\")\r\n\tconst [loginOrForgetPassword, setLoginOrForgetPassword] = useState(\"login\")\r\n\tconst modal =  useRef(null);\r\n\tuseEffect(() => {\r\n\t\tsetSelectAppear(false)\r\n\t\tsetCurrent(\"login\")\r\n\t}, []);\r\n\treturn (\r\n\t\t<>\r\n\t\t{\r\n\t\tisLogin\r\n\t\t?\r\n\t\t<HaveLogin memberName={memberName}/>\r\n\t\t:\r\n\t\t<>\r\n\t\t<div className=\"formPage\">\r\n\t\t\t{loginOrRegister === \"login\" \r\n\t\t\t\t? \r\n\t\t\t\tloginOrForgetPassword === \"login\"?\r\n\t\t\t\t\t<Login setMemberName={setMemberName} \r\n\t\t\t\t\t\t\tsetIsLogin={setIsLogin} \r\n\t\t\t\t\t\t\tsetLoginOrRegister={setLoginOrRegister} \r\n\t\t\t\t\t\t\tsetMemberMail={setMemberMail} \r\n\t\t\t\t\t\t\tsetLoginOrForgetPassword={setLoginOrForgetPassword}\r\n\t\t\t\t\t\t\tmodal={modal}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<ForgetPassword setLoginOrForgetPassword={setLoginOrForgetPassword} modal={modal}/>\r\n\t\t\t\t:\r\n\t\t\t\t<Register setLoginOrRegister={setLoginOrRegister} modal={modal}></Register>\r\n\t\t\t}\r\n\t\t</div>\r\n    \t<Loading modalRef={modal}/>\r\n\t\t</>\r\n\t\t}\r\n\t\t</>\r\n\t\t)\r\n}\r\nexport default LoginPage;","import instance from \"./api\";\nimport axios from \"axios\";\nimport { BASE_URL, config} from \"./api\";\n\n\n// get the post data by department\nexport const getDepPost = async (dep_id, memberName) => {\n\n    try {\n        const { data } = await instance.post('/api/search/dep_post',  { \"dep_id\": dep_id, \"username\": memberName })\n\n        return data\n    } catch (error) {\n        console.log(error)\n\n        // fake data\n        const listData = [];\n        const datalength = 3\n        for (let i = 0; i < datalength; i++) {\n            listData.push({\n                // href: 'https://ant.design',\n                title: `(get data error)ant design part ${i}`,\n                avatar: 'https://joeschmoe.io/api/v1/random',\n                description: 'Howard1231',\n                content:\n                    'We supply a series of design principles, practical patterns and high quality design resources (Sketch and Axure), to help people create their product prototypes beautifully and efficiently.',\n            });\n        }\n\n        return listData\n\n    }\n}\n\n\n// add a post\nexport const createPost = async (dep_id, title, content, memberName) => {\n\n    const post_param =\n    {\n        \"username\": memberName,\n        \"dep_id\": dep_id,\n        \"content\": content,\n        \"title\": title\n    }\n\n    try {\n        const { data } = await axios.post(BASE_URL + '/user/createpost', post_param, config())\n\n        return data\n    } catch (error) {\n        console.log(error)\n\n    }\n}\n\n// add a comment on post\nexport const post_reply = async (post_id, content) => {\n\n    try {\n        const { data } = await axios.post(BASE_URL+'/api/search/post_reply',\n            {\n                \"post_id\": post_id,\n                \"content\": content,\n            },\n            config()\n        );\n        return data\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n// add a comment on post\nexport const add_reply = async (post_id, content, memberName) => {\n    console.log('add_reply:', post_id, content, memberName)\n    try {\n        const { data } = await axios.post(BASE_URL+'/user/create_reply',\n            {\n                \"username\": memberName,\n                \"post_id\": post_id,\n                \"content\": content\n            },\n            config()\n        );\n\n        return data\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n// search comment by post id\nexport const get_post_reply = async (post_id, memberName) => {\n\n    try {\n        const { data } = await instance.post('/api/search/post_reply',\n            {\n                \"post_id\": post_id,\n                \"username\": memberName\n            }\n        );\n\n        return data\n    } catch (error) {\n        console.log(error)\n    }\n}\n\n\n// user like post by post id\nexport const likes_post = async (post_id, memberName) => {\n\n    console.log(post_id, memberName)\n\n    try {\n        const { data } = await axios.post(BASE_URL+'/user/likes_post',\n            {\n                \"username\": memberName,\n                \"post_id\": post_id\n            },\n            config()\n        );\n\n        return data\n    } catch (error) {\n        console.log(error)\n        return null\n    }\n}\n\n// user like post by post id\nexport const delete_post = async (post_id, memberName) => {\n\n\n    try {\n        const { data } = await axios.post(BASE_URL+'/user/delete_post',\n            {\n                \"username\": memberName,\n                \"post_id\": post_id\n            },\n            config()\n        );\n\n        return data\n    } catch (error) {\n        console.log(error)\n        return null\n    }\n}\n\nexport const handle_like_reply = async (post_id, post_reply_id, memberName) => {\n    try {\n        await axios.post(BASE_URL+'/user/likes_reply', {\n            \"username\": memberName,\n            \"post_id\": post_id,\n            \"post_reply_id\": post_reply_id\n        },\n        config()\n        );\n        \n    }\n    catch (error) {\n        console.log(error)\n    }\n}\n\nexport const delete_reply = async (post_id, post_reply_id, memberName) =>{\n    try {\n        await axios.post(BASE_URL+\"/user/delete_reply\", {\n            \"username\": memberName,\n            \"post_id\": post_id,\n            \"post_reply_id\": post_reply_id\n        },\n        config());\n        \n    }\n    catch (error) {\n        console.log(error)\n    }\n}\n","import React, { useState } from 'react';\nimport { Space, message } from 'antd';\nimport { MessageOutlined, LikeOutlined, DeleteOutlined } from '@ant-design/icons';\nimport { likes_post, delete_post, getDepPost } from '../api/DepPost';\n\n\nconst IconText = ({ icon, user_likes, iconNum, post_id, memberName, setDepPostData, isLogin, department}) => {\n\n    if (icon !== LikeOutlined) user_likes = false\n    const [pressColor, setpressColor] = useState(user_likes)\n    const [showText, setshowText] = useState(iconNum)\n\n\n\n    const pressButton = async () => {\n        if (memberName === '') {\n            message.info('請先登入ㄛ')\n            return\n        }\n        if (icon === LikeOutlined) {\n            await likes_post(post_id, memberName)\n\n            setpressColor(prev => !prev)\n            setshowText(prev => prev + (pressColor ? -1 : 1))\n\n        }\n        if (icon === DeleteOutlined) {\n            message.info('刪除貼文')\n            await delete_post(post_id, memberName)\n            const data = await getDepPost(department, memberName);\n            setDepPostData(data);\n        }\n        if (icon === MessageOutlined) {\n            setpressColor(prev => !prev)\n\n        }\n\n\n    }\n    \n    return (\n        <Space >\n            {\n                (icon === MessageOutlined)?\n                    <div style={pressColor ? { color: 'blue', paddingBottom:\"5px\"} : {paddingBottom:\"5px\"}} >\n                        {React.createElement(icon, { onClick: pressButton,  style: {pointerEvents: \"none\"} })}\n                    </div>\n                    :\n                    (isLogin) ?\n                    <div style={pressColor ? { color: 'blue', paddingBottom:\"5px\" } : {paddingBottom:\"5px\"}} >\n                        {React.createElement(icon, { onClick: pressButton })}\n                    </div>\n                    :\n                    <div style={pressColor ? { color: 'blue', paddingBottom:\"5px\" } : {paddingBottom:\"5px\"}} >\n                        {React.createElement(icon, { onClick: pressButton, style: {pointerEvents: \"none\"} })}\n                    </div>\n            }\n            {showText}\n        </Space >\n    );\n\n}\n\nexport default IconText\n\n","\nimport React, { useState } from 'react';\nimport { List, Avatar, Space, Alert, Button, Modal, message } from 'antd';\nimport { LikeOutlined} from '@ant-design/icons';\nimport {handle_like_reply} from '../api/DepPost'\n\n\n\nconst Replyicon = ({user_likes, iconNum, memberName, post_id, post_reply_id}) => {\n\n\n    const [pressColor, setpressColor] = useState(user_likes)\n\n    const [showText, setshowText] = useState(iconNum)\n\n    const pressButton = async () => {\n\n        if (memberName == '') {\n            // console.log('plz login')\n            message.info('請先登入ㄛ')\n            return\n        }\n        \n        setpressColor(prev => !prev)\n        setshowText(prev => prev + (pressColor ? -1 : 1))\n        await handle_like_reply(post_id, post_reply_id, memberName)\n        \n    }\n\n    return (\n        <Space >\n            <div style={pressColor ? { color: 'blue' } : null} >\n                {React.createElement(LikeOutlined, { onClick: pressButton })}\n            </div>\n            <p style={{paddingTop:\"7px\"}}>\n                {showText}\n            </p>\n        </Space >\n    );\n\n}\n\nexport default Replyicon","import React, { useState } from 'react';\nimport { Space, message } from 'antd';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport { delete_reply, get_post_reply} from '../api/DepPost'\n\n\n\nconst ReplyDeleteIcon = ({memberName, post_id, post_reply_id, setreplyList}) => {\n\n\n    const pressButton = async () => {\n\n        if (memberName == '') {\n            // console.log('plz login')\n            message.info('請先登入ㄛ')\n            return\n        }\n        await delete_reply(post_id, post_reply_id, memberName)\n\n        //get reply data\n        const data2 = await get_post_reply(post_id, memberName)\n        setreplyList(data2)\n    }\n\n    return (\n        <Space >\n            <div style={{paddingLeft:\"10px\"}}>\n                {React.createElement(DeleteOutlined, { onClick: pressButton })}\n            </div>\n        </Space >\n    );\n\n}\n\nexport default ReplyDeleteIcon","import React, { useState, useEffect, useRef } from 'react';\nimport { Modal, Space } from 'antd';\nimport { Card, Comment, Avatar, Form, Button, List, Input, Tooltip } from 'antd';\nimport moment from 'moment';\nimport { get_post_reply, add_reply } from '../api/DepPost';\nimport MarkdownPreview from '@uiw/react-markdown-preview';\nimport Replyicon from './ReplyLikeIcon';\nimport ReplyDeleteIcon from './ReplyDeleteIcon';\nimport IconText from './IconText';\nimport {LikeOutlined} from '@ant-design/icons'\n// import base64 from 'react-native-base64'\n\nconst { TextArea } = Input;\n\n\nconst PostModal = ({ item, isLogin, memberName }) => {\n    console.log(item)\n\n    const [postModalFlag, setPostModalFlag] = useState(false)\n    const [replyList, setreplyList] = useState([])\n\n\n    const pressPost = async (post_id) => {\n\n        //get reply data\n        const data = await get_post_reply(item.post_id, memberName)\n        setreplyList(data)\n\n        setPostModalFlag(prev => !prev)\n    }\n\n    return (\n        <>\n            <div className='postContent' >\n                <List.Item.Meta\n                    avatar={<Avatar src={`https://joeschmoe.io/api/v1/${item.author}`} />}\n                    title={<a style={{ textDecorationLine: 'underline' }} onClick={() => pressPost(item.post_id)} >{item.title}</a>}\n                    description={(\n                        <>\n                            <>{item.author}</>\n                            <> </>\n                            <> --</>\n                            <> </>\n\n                            <Tooltip title={moment(item.datetime).format('YYYY-MM-DD HH:mm:ss')}>\n                                <span>{moment(item.datetime).fromNow()}</span>\n                            </Tooltip>\n\n\n                        </>)\n                    }\n\n                />\n                <div className='text' className=\"test\" onClick={() => pressPost(item.post_id)} style={{ cursor: 'pointer' }}>\n                 \n                    <MarkdownPreview source={item.content.slice(0, 20) + \"...\"} />\n\n\n                </div>\n\n                \n            </div>\n\n\n            <Modal className='postCommentModal' visible={postModalFlag} onCancel={e => setPostModalFlag(false)} onOk={e => setPostModalFlag(false)} cancelButtonProps={{ style: { display: 'none' } }}>\n                {/* //onCancel={e => setPostModalFlag(false)} > */}\n                <>\n                    <Comment\n                        actions={[<span key=\"comment-nested-reply-to\">Reply to</span>]}\n                        author={<a style={{ fontSize: \"20px\", paddingTop:\"20px\" }}>{item.author}</a>}\n                        avatar={<Avatar src={`https://joeschmoe.io/api/v1/${item.author}`} alt={item.author} />}\n                        content={\n                            <div style={{paddingTop:\"10px\"}}>\n                            <MarkdownPreview source={item.content} />\n                            <IconText icon={LikeOutlined} iconNum={item.likes_num} key=\"list-vertical-like-o\" user_likes={item.user_likes} post_id={item.post_id} memberName={memberName} isLogin={isLogin}/>\n                            </div>\n                        }\n                        datetime={(\n                            <Tooltip title={moment(item.datetime).format('YYYY-MM-DD HH:mm:ss')}>\n                                <span>{moment(item.datetime).fromNow()}</span>\n                            </Tooltip>\n                        )}\n                    >\n                    </Comment>\n                    <List\n                        className=\"comment-list\"\n                        header={`${replyList.length} replies`}\n                        itemLayout=\"horizontal\"\n                        dataSource={replyList}\n                        renderItem={reply => (\n                            <li>\n                                <Comment\n                                    // actions={item.actions}\n                                    author={reply.username}\n                                    avatar={`https://joeschmoe.io/api/v1/${reply.username}`}\n                                    content={\n                                        <>\n                                            <MarkdownPreview source={reply.content} />\n                                            <Replyicon user_likes={reply.user_like} iconNum={reply.like_num} post_id={reply.post_id} post_reply_id={reply.post_reply_id} memberName={memberName}/>\n                                            {(reply.username === memberName) ?\n                                                <ReplyDeleteIcon post_id={reply.post_id} post_reply_id={reply.post_reply_id} memberName={memberName} setreplyList={setreplyList}/>\n                                                :\n                                                null\n                                            }\n                                        </>\n                                    }\n                                    datetime={\n                                        (\n                                            <Tooltip title={moment(reply.datetime).format('YYYY-MM-DD HH:mm:ss')}>\n                                                <span>{moment(reply.datetime).fromNow()}</span>\n                                            </Tooltip>\n                                        )\n                                    }\n                                />\n                            </li>\n                        )}\n                    />\n                    {\n                        isLogin ?\n                            <CommentBlock post_id={item.post_id} memberName={memberName} setreplyList={setreplyList} />\n                            : null\n                    }\n\n                </>\n            </Modal>\n        </>\n    )\n}\n\nexport default PostModal\n\nconst CommentBlock = ({ post_id, memberName, setreplyList }) => {\n\n    const [replyVal, setreplyVal] = useState('')\n\n    const submitReply = async () => {\n        //reply data\n        await add_reply(post_id, replyVal, memberName)\n        setreplyVal('')\n\n\n        //get reply data\n        const data2 = await get_post_reply(post_id, memberName)\n        setreplyList(data2)\n\n    }\n\n    return (\n        <>\n            <Form.Item label=\"留言\">\n                <TextArea placeholder=\"input text\" rows={2} onChange={e => setreplyVal(e.target.value)} value={replyVal} />\n            </Form.Item>\n            <div\n                style={{\n                    display: \"flex\",\n                    justifyContent: \"center\",\n                    // alignItems: \"center\"\n                }}\n            >\n                <Button size='large' htmlType=\"submit\" onClick={submitReply} type=\"primary\">\n                    新增\n                </Button>\n            </div>\n        </>\n    )\n}","import { List} from 'antd';\nimport { MessageOutlined, LikeOutlined ,DeleteOutlined } from '@ant-design/icons';\nimport React from 'react';\nimport IconText from './IconText';\nimport { ConfigProvider } from 'antd';\nimport emptyConfig from './emptyConfig';\nimport PostModal from './PostModal';\n\n\n\n\nconst PostListView = ({ depPostData, isLogin, memberName, setDepPostData, department}) => {\n\n    \n\n\n    return (\n        <div className='postList'>\n            {/* <ConfigProvider renderEmpty={true && emptyConfig}>\t */}\n            <List\n                itemLayout=\"vertical\"\n                size=\"large\"\n                pagination={{\n                    onChange: page => {\n                        console.log(page);\n                    },\n                    pageSize: 8,\n                }}\n                dataSource={depPostData}\n                renderItem={(item, index) => {\n\n                    return (\n                        <List.Item\n                            className=\"postCard\"\n                            key={item.post_id}\n                            actions={[\n                                // <IconText icon={StarOutlined} text=\"156\" key=\"list-vertical-star-o\" />,\n                                <IconText icon={LikeOutlined} iconNum={item.likes_num} key=\"list-vertical-like-o\" user_likes={item.user_likes} post_id={item.post_id} memberName={memberName} isLogin={isLogin} />,\n                                // <IconText icon={DislikeOutlined} text=\"30\" key=\"list-vertical-like-o\" />,\n                                <IconText icon={MessageOutlined} iconNum={item.post_reply_num} key=\"list-vertical-message\" user_likes={item.user_likes} post_id={item.post_id} memberName={memberName} isLogin={isLogin} />,\n                                (memberName === item.author) ?\n                                    <IconText icon={DeleteOutlined} iconNum={\"\"} key=\"list-vertical-message\" post_id={item.post_id} memberName={memberName} setDepPostData={setDepPostData} isLogin={isLogin} department={department} />\n                                    : null\n\n                            ]}\n                            extra={\n                                <img\n                                    width={272}\n                                    alt=\"logo\"\n                                    src={`https://source.unsplash.com/random/200x150?sig=${index}?query=school`}\n                                // src=\"https://media-cdn.tripadvisor.com/media/photo-s/18/4f/7d/fc/caption.jpg\"\n                                // src=\"https://gw.alipayobjects.com/zos/rmsportal/mqaQswcyDLcXyDKnZfES.png\"\n                                />\n                            }\n                        >\n                            <PostModal item={item} isLogin={isLogin} memberName={memberName} />\n\n                        </List.Item>\n\n                    )\n                }\n                }\n            />\n            {/* </ConfigProvider> */}\n        </div >\n    )\n\n}\n\nexport default PostListView","import { Input, Button, message, Typography,Modal } from 'antd';\nimport { useState} from \"react\";\nimport { Form} from 'antd';\nimport { createPost, getDepPost } from \"../api/DepPost\";\nimport MDEditor from '@uiw/react-md-editor';\n\nconst { Title } = Typography;\n\n\n\n\nconst AddPostModal = ({ department, memberName, setDepPostData, isLogin }) => {\n\n    const [showModal, setshowModal] = useState(false)\n    const [submitting, setsubmitting] = useState(false)\n\n    const [titleVal, settitleVal] = useState('')\n    const [contentVal, setcontentVal] = useState('')\n\n    const handleSubmit = async () => {\n        if (!titleVal | !contentVal) {\n            return;\n        }\n\n        setsubmitting(true)\n        console.log(typeof (department), titleVal, contentVal)\n\n        setTimeout(async () => {\n            // await\n            const res = await createPost(department, titleVal, contentVal, memberName)\n\n            console.log(res)\n            setsubmitting(false)\n            settitleVal('')\n            setcontentVal('')\n            setshowModal(false)\n            const data = await getDepPost(department, memberName);\n            setDepPostData(data);\n        }, 1000);\n\n\n    };\n\n    return (\n        <div className='AppPost' >\n            <div className='newPostButtom'>\n                <button className=\"button-style-3\" onClick={() => {\n                    if(isLogin)\n                        setshowModal(prev => !prev)\n                    else{\n                        message.warning('請先登入');\n                    }\n                    }} >\n                    新增文章\n                </button>\n            </div>\n            <Modal title='新增文章' visible={showModal} onOk={e => setshowModal(false)} onCancel={e => setshowModal(false)} width={800} cancelButtonProps={{ style: { display: 'none' } } } footer={null}>\n                <Typography>\n                    <Title level={3} style={{paddingLeft:\"5px\"}}> 標題 </Title>\n                </Typography>\n                <div style={{paddingLeft:\"5px\"}}>\n                <Input placeholder=\"輸入標題\" onChange={e => settitleVal(e.target.value)} value={titleVal} />\n                </div>\n                <Typography>\n                    <Title level={3} style={{paddingLeft:\"5px\", paddingTop:\"10px\"}}> 內文 </Title>\n                </Typography>\n                <Form.Item>\n                    <div style={{paddingLeft:\"5px\"}}>\n                    <MDEditor\n                        value={contentVal}\n                        onChange={setcontentVal}\n                    />\n                    </div>\n                </Form.Item>\n                <div\n                    style={{\n                        display: \"flex\",\n                        justifyContent: \"center\",\n                        // alignItems: \"center\"\n                    }}\n                >\n                    <Button size='large' htmlType=\"submit\" loading={submitting} onClick={handleSubmit} type=\"primary\">\n                        新增\n                    </Button>\n                </div>\n\n            </Modal>\n\n        </div>\n\n    )\n}\n\nexport default AddPostModal","import { useEffect, useState } from \"react\";\r\nimport UnSelectDepartment from \"../Components/UnSelectDepartment\";\r\n\r\nimport PostListView from \"../Components/PostListView\";\r\nimport AddPostModal from \"../Components/AddPostModal\";\r\nimport { getDepPost } from \"../api/DepPost\";\r\nimport Footer from \"../Components/Footer\";\r\n\r\nconst PostPage = ({ department, current, setCurrent, setSelectAppear, compulsory, setCompulsory, isLogin, memberName }) => {\r\n\r\n\tconst [depPostData, setDepPostData] = useState([])\r\n\r\n\tuseEffect(async () => {\r\n\t\t// const data = await getRequirement();\r\n\t\tif (department) {\r\n\t\t\tconst data = await getDepPost(department, memberName);\r\n\t\t\tsetDepPostData(data);\r\n\r\n\t\t\tconsole.log(data)\r\n\t\t}\r\n\t}, [department]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelectAppear(true)\r\n\t\tsetCurrent(\"post\")\r\n\t}, []);\r\n\r\n\treturn (\r\n\r\n\t\t<div className=\"Posts\">\r\n\t\t\t{\r\n\t\t\t\tdepartment\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\r\n\t\t\t\t\t\t<div className=\"marginTop50\"></div>\r\n\t\t\t\t\t\t{/* <NavMenu current={current} setCurrent={setCurrent} /> */}\r\n\t\t\t\t\t\t<div className='AddPost'>\r\n\t\t\t\t\t\t\t<AddPostModal department={department} memberName={memberName} setDepPostData={setDepPostData} isLogin={isLogin}/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\r\n\t\t\t\t\t\t<PostListView depPostData={depPostData} isLogin={isLogin} memberName={memberName} setDepPostData={setDepPostData} department={department} />\r\n\t\t\t\t\t\t<Footer />\r\n\t\t\t\t\t</>\r\n\t\t\t\t\t:\r\n\t\t\t\t\t<UnSelectDepartment />\r\n\t\t\t}\r\n\t\t</div>\r\n\t)\r\n\r\n}\r\n\r\nexport default PostPage;\r\n","import { Descriptions } from \"antd\";\r\n\r\nconst TransRequirement = ({transRequirement}) => {\r\n\tconst newLine = (text)=>{\r\n\t\ttry\r\n\t\t{\r\n\t\t\ttext = text.replace(\"\\n\",\"\\n\\n\")\r\n\t\t\treturn text\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\treturn text\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\ttransRequirement\r\n\t?\r\n\t<div className=\"requirement\">\r\n\t\t<Descriptions\r\n\t\t// title=\"轉系門檻\"\r\n\t\tbordered\r\n\t\tsize=\"default\"\r\n\t\tstyle={{marginTop:\"-50px\"}}\r\n\t\t// column={{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }}\r\n\t\t>\r\n\t\t{/* <Descriptions.Item label=\"系所代碼\">{transRequirement.dep_id}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"系所名稱\">{transRequirement.dep_name}</Descriptions.Item>\t\t */}\r\n\t\t<Descriptions.Item label=\"限制名額\" style={{whiteSpace: \"pre-line\"}}>{transRequirement.accept_number}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"申請資格\" style={{whiteSpace: \"pre-line\"}}>{newLine(transRequirement.qualification)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"錄取方式及占分比例\" style={{whiteSpace: \"pre-line\"}}>{newLine(transRequirement.admission_requirement)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"其他\" style={{whiteSpace: \"pre-line\"}}>{newLine(transRequirement.other)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"是否接受第二志願申請\" style={{whiteSpace: \"pre-line\"}}>{newLine(transRequirement.accept_second_priority)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"備註\" style={{whiteSpace: \"pre-line\"}}>\r\n\t\t{newLine(transRequirement.notes)}\r\n\t\t</Descriptions.Item>\r\n\t\t</Descriptions>\r\n\t</div>\r\n\t:\r\n\t<></>\r\n  )\r\n}\r\n\r\nexport default TransRequirement;","import { Descriptions } from \"antd\";\r\n\r\nconst DoubleRequirement = ({doubleRequirement}) => {\r\n\tconst newLine = (text)=>{\r\n\t\ttry\r\n\t\t{\r\n\t\t\ttext = text.replace(\"\\n\",\"\\n\\n\")\r\n\t\t\treturn text\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\treturn text\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\tdoubleRequirement\r\n\t?\r\n\t<div className=\"requirement\">\r\n\t\t<Descriptions\r\n\t\t// title=\"雙主修門檻\"\r\n\t\tstyle={{marginTop:\"-50px\"}}\r\n\t\tbordered\r\n\t\tcolumn={{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }}\r\n\t\t>\r\n\t\t{/* <Descriptions.Item label=\"系所代碼\">{doubleRequirement.dep_id}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"系所名稱\" >{doubleRequirement.dep_name}</Descriptions.Item>\t\t */}\r\n\t\t<Descriptions.Item label=\"限制名額\" style={{whiteSpace: \"pre-line\"}}>{newLine(doubleRequirement.accept_number)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"申請資格\" style={{whiteSpace: \"pre-line\"}}>{newLine(doubleRequirement.qualification)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"錄取方式及占分比例\" style={{whiteSpace: \"pre-line\"}}>{newLine(doubleRequirement.admission_requirement)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"其他\" style={{whiteSpace: \"pre-line\"}}>{newLine((doubleRequirement.other))}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"備註\" style={{whiteSpace: \"pre-line\"}}>\r\n\t\t{newLine(doubleRequirement.notes)}\r\n\t\t</Descriptions.Item>\r\n\t\t</Descriptions>\r\n\t</div>\r\n\t:\r\n\t<></>\r\n  )\r\n}\r\n\r\nexport default DoubleRequirement;","import { Descriptions } from \"antd\";\r\n\r\nconst MinorRequirement = ({minorRequirement}) => {\r\n \tconst newLine = (text)=>{\r\n\t\ttry\r\n\t\t{\r\n\t\t\ttext = text.replace(\"\\n\",\"\\n\\n\")\r\n\t\t\treturn text\r\n\t\t}\r\n\t\tcatch{\r\n\t\t\treturn text\r\n\t\t}\r\n\t}\r\n\t\r\n\treturn (\r\n\tminorRequirement\r\n\t?\r\n\t<div className=\"requirement\">\r\n\t\t<Descriptions\r\n\t\t// title=\"輔系門檻\"\r\n\t\tstyle={{marginTop:\"-50px\"}}\r\n\t\tbordered\r\n\t\tcolumn={{ xxl: 4, xl: 3, lg: 3, md: 3, sm: 2, xs: 1 }}\r\n\t\t>\r\n\t\t{/* <Descriptions.Item label=\"系所代碼\">{minorRequirement.dep_id}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"系所名稱\">{minorRequirement.dep_name}</Descriptions.Item>\t\t */}\r\n\t\t<Descriptions.Item label=\"限制名額\" style={{whiteSpace: \"pre-line\"}}>{minorRequirement.accept_number}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"申請資格\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.qualification)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"錄取方式及占分比例\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.admission_requirement)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"其他\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.other)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"輔系最低學分要求\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.min_received_credit)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"必修課目要求\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.compulsory)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"選修科目要求\" style={{whiteSpace: \"pre-line\"}}>{newLine(minorRequirement.elective)}</Descriptions.Item>\r\n\t\t<Descriptions.Item label=\"備註\" style={{whiteSpace: \"pre-line\"}}>\r\n\t\t{newLine(minorRequirement.notes)}\r\n\t\t</Descriptions.Item>\r\n\t\t</Descriptions>\r\n\t</div>\r\n\t:\r\n\t<></>\r\n  )\r\n}\r\n\r\nexport default MinorRequirement;","import instance from \"./api\";\r\n\r\n\r\nexport const getRequirement = async()=>{\r\n\ttry {\r\n\t\tconst {data} = await instance.get(\"/api/list\");\r\n\t\treturn data\r\n\t} \r\n\tcatch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\nexport const searchRequirement = async(depID, type)=>{\r\n\ttry {\r\n\t\t//console.log (todo)\r\n\t\tconst {data} = await instance.post(\"/api/search/requirement\",{\"dep_id\":depID, \"type\":type});\r\n\r\n\t\treturn data\r\n\t} catch (error) {\r\n\tconsole.log(error)\r\n}\r\n}","\r\nimport TransRequirement from \"../Components/TransRequirement\"\r\nimport DoubleRequirement from \"../Components/DoubleRequirement\"\r\nimport MinorRequirement from \"../Components/MinorRequirement\"\r\n\r\nimport { useEffect, useState } from \"react\";\r\nimport { Divider, Tooltip} from \"antd\"; \r\n\r\nimport {searchRequirement} from \"../api/Requirement\"\r\nimport UnSelectDepartment from \"../Components/UnSelectDepartment\";\r\nimport Footer from \"../Components/Footer\"; \r\nconst RequirementPage = ({department, setCurrent, setSelectAppear}) => {\r\n\r\n\tconst [transRequirement, setTransRequirement] = useState({})\r\n\tconst [doubleRequirement, setDoubleRequirement] = useState({})\r\n\tconst [minorRequirement, setMinorRequirement] = useState({})\r\n\r\n\r\n\t\r\n\tuseEffect( async() =>  {\r\n\t\tif(department){\r\n\t\t\ttry{\r\n\t\t\t\tconst dataTrans = await searchRequirement(department,\"Transfer\");\r\n\t\t\t\tsetTransRequirement(dataTrans);\r\n\t\t\t}\r\n\t\t\tcatch(error){\r\n\t\t\t\tconsole.log(\"no\")\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t\tconst dataDouble = await searchRequirement(department,\"DoubleMajor\");\r\n\t\t\t\tsetDoubleRequirement(dataDouble);\r\n\t\t\t}\r\n\t\t\tcatch (error){\r\n\t\t\t\tconsole.log(\"no\")\r\n\t\t\t}\r\n\t\t\ttry{\r\n\t\t\t\tconst dataMinor = await searchRequirement(department,\"Minor\");\r\n\t\t\t\tsetMinorRequirement(dataMinor);\r\n\t\t\t}\r\n\t\t\tcatch (error){\r\n\t\t\t\tconsole.log(\"no\")\r\n\t\t\t}\r\n\t\t}\t\t\r\n\t\t} ,[department]\r\n\t);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetSelectAppear(true)\r\n\t\tsetCurrent(\"requirement\")\r\n\t}, []);\r\n\treturn(\r\n\t\t<div className=\"Charts\" style={{margin:\"auto\", textAlign:\"center\"}}>\t\r\n\t\t{\r\n\t\t\tdepartment?\r\n\t\t\t<>\r\n\t\t\t\t<div className=\"marginTop50\"></div>\r\n\r\n\t\t\t\t{/* <NavMenu  className=\"nav-menu-desktop\" current={current} setCurrent={setCurrent}/> */}\r\n\t\t\t\t{/* <Space>\r\n\t\t\t\t\t<div style={{margin:\"auto\"}}>\r\n\t\t\t\t\t\t<Progress type=\"circle\" percent={100} format={() => `${department}`} />\r\n\t\t\t\t\t\t<Progress type=\"circle\" percent={100} format={() => `${department}`} / >\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</Space> */}\r\n\t\t\t\t{/* <div className=\"loading-card\">\r\n\t\t\t\t\t<div style={{textAlign:\"center\", fontSize:20}}>注意!本資料非即時更新</div>\r\n\t\t\t\t\t<div style={{textAlign:\"center\"}}>上次更新時間為 2021/10<br/>建議仍去<a href={\"https://reg227.aca.ntu.edu.tw/TMD/stuquery/student.asp\"} style={{textDecoration:\"none\", color:\"blue\"}}>學校官方網頁</a>查看</div>\r\n\t\t\t\t</div> */}\r\n\t\t\t\t{transRequirement\r\n\t\t\t\t?\r\n\t\t\t\t<>\r\n\t\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>轉系門檻</Divider>\r\n\t\t\t\t\t<TransRequirement transRequirement={transRequirement}/>\t\t\t\t\r\n\t\t\t\t</>\r\n\t\t\t\t:\r\n\t\t\t\t<Tooltip title=\"此系有開放雙轉輔申請卻找不到資料?試試搜尋此系不同組別吧~\" color={\"#2db7f5\"} >\r\n\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>本系(組)本年度不開放轉系</Divider>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\tdoubleRequirement\r\n\t\t\t\t?\r\n\t\t\t\t<>\t\r\n\t\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>雙主修門檻</Divider>\r\n\t\t\t\t\t<DoubleRequirement doubleRequirement={doubleRequirement}/>\r\n\t\t\t\t</>\r\n\t\t\t\t:\r\n\t\t\t\t<Tooltip title=\"此系有開放雙轉輔申請卻找不到資料?試試搜尋此系不同組別吧~\" color={\"#2db7f5\"} >\r\n\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>本系(組)本年度不開放雙主修</Divider>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\t\t\t\t{\r\n\t\t\t\tminorRequirement\r\n\t\t\t\t?\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>輔系門檻</Divider>\r\n\t\t\t\t\t<MinorRequirement minorRequirement={minorRequirement}/>\r\n\t\t\t\t\t</>\r\n\t\t\t\t:\r\n\t\t\t\t<Tooltip title=\"此系有開放雙轉輔申請卻找不到資料?試試搜尋此系不同組別吧~\" color={\"#2db7f5\"} >\r\n\t\t\t\t<Divider orientation=\"center\" style={{fontSize:25,padding:\"20px\"}}>本系(組)本年度不開放輔系</Divider>\r\n\t\t\t\t</Tooltip>\r\n\t\t\t\t}\r\n\r\n\t\t\t\t<Footer/>\r\n\t\t\t</>\r\n\t\t\t:\r\n\t\t\t<UnSelectDepartment/>\r\n\t\t\t}\r\n\t\t</div>\r\n\r\n\t)\r\n\r\n}\r\n\r\n\r\n\r\nexport default RequirementPage;","import {Result} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\"\r\n\r\nconst EnterByURL = () =>{\r\n\treturn(\r\n\t\t<div style={{paddingTop:\"100px\"}}>\r\n\t\t\t<Result\r\n\t\t\t\ticon={<SmileOutlined/>}\r\n\t\t\t\ttitle=\"請選擇系所\"\r\n\t\t\t\textra={<div>您是想分享申請哪個系所的經驗呢？</div>}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default EnterByURL;","import {Result} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\"\r\n\r\nconst FinishAllShare = () =>{\r\n\treturn(\r\n\t\t<div style={{paddingTop:\"100px\"}}>\r\n\t\t\t<Result\r\n\t\t\t\ticon={<SmileOutlined twoToneColor=\"red\"/>}\r\n\t\t\t\ttitle=\"您已填答完所有分享!\"\r\n\t\t\t\textra={<div>感謝您的貢獻</div>}\r\n\t\t\t/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default FinishAllShare;","import {Result, Button, Space} from \"antd\";\r\nimport {SmileOutlined} from \"@ant-design/icons\"\r\nimport {Link} from \"react-router-dom\"\r\n\r\nconst UnLogin = () =>{\r\n\treturn(\r\n\t\t<div style={{paddingTop:\"100px\"}}>\r\n\r\n\t\t\t<Result\r\n\t\t\t\ticon={<SmileOutlined twoToneColor=\"red\"/>}\r\n\t\t\t\ttitle=\"請登入\"\r\n\t\t\t\textra={\r\n\r\n\t\t\t\t<>\r\n\t\t\t\t<div style={{paddingBottom: \"20px\"}}>\r\n\t\t\t\t\t感謝您要分享，但要先登入喔～\r\n\t\t\t\t</div>\r\n\t\t\t\r\n\t\t\t{/* <Button style={{margin:\"auto\"}}>\r\n\t\t\t\t<Link to =\"/statistic\" style={{textDecoration:\"none\"}}>回上一頁</Link>\r\n\t\t\t</Button> */}\r\n\t\t\t<button  className=\"button-style-3\" style={{padding:\"5px 10px\"}}>\r\n\t\t\t\t<Link to =\"/login\" style={{textDecoration:\"none\", color:\"white\"}}>登入去</Link>\r\n\t\t\t</button>\r\n\t\t\t</>\r\n\t\t\t\t}\r\n\r\n\t\t\t\tstyle={{width:\"100%\"}}\r\n\t\t\t/>\t\r\n\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nexport default UnLogin;","import instance from \"./api\";\r\n\r\n\r\nexport const getDepartment = async()=>{\r\n\ttry {\r\n\t\tconst {data} = await instance.get('/api/map')\r\n\t\treturn data\r\n\t} \r\n\tcatch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\nexport const searchCompulsory = async(depID)=>{\r\n\ttry {\r\n\t\t//console.log (todo)\r\n\t\tconst {data} = await instance.post('/api/search/compulsory', {\"dep_id\":depID})\r\n\t\t\r\n\t\treturn data\r\n\t} catch (error) {\r\n\tconsole.log(error)\r\n}\r\n}","import { Space, Card} from \"antd\";\r\nimport { InputNumber,  Input,  Form,  Radio,  Button, message,Select} from 'antd';\r\nimport { useState , useEffect, useRef} from \"react\";\r\nimport FinishAllShare from \"./FinishAllShare\"\r\nimport UnLogin from \"./UnLogin\"\r\nimport { searchCompulsory } from \"../api/Compulsory\";\r\nimport { addCourse, createShare, duplicateCheck } from \"../api/SharedData\";\r\nimport Loading from \"./Loading\";\r\nimport { codePreview } from \"@uiw/react-md-editor\";\r\n// first GPA是整年度的GPA\r\n// second GPA是備註\r\n// 因為我們懶得改了><\r\nconst NewShare = ({isLogin, memberName, departmentList, department, memberMail}) => {\r\n\r\n\tconst [type, setType] = useState(\"transfer\");\r\n\tconst [EnterDepartment,setEnterDepartment] = useState(department);\r\n\tconst [oriDepartment, setOriDepartment] = useState(\"\");\r\n\tconst [year, setYear] = useState(\"\");\r\n\tconst [firstGPA, setFirstGPA] = useState(0)\r\n\tconst [secondGPA, setSecondGPA] = useState(\"\")\r\n\tconst [priority, setPriority] = useState(0)\r\n\tconst [form] = Form.useForm()\r\n\tconst [successOrFail, setSuccessOrFail] = useState(\"success\")\r\n  \tconst modal =  useRef(null);\r\n\r\n\r\n\tconst [compulsoryNum, setCompulsoryNum] = useState([false,]);\r\n\tconst [selectCompulsory, setSelectCompulsory] = useState([]);\r\n\tconst [selectGrade, setSelectGrade] = useState([]);\r\n\tconst [duplicateTrans,setDuplicateTrans] = useState(false)\r\n\tconst [duplicateDouble,setDuplicateDouble] = useState(false)\r\n\tconst [duplicateMinor,setDuplicateMinor] = useState(false)\r\n\tconst [duplicateAll, setDuplicateAll] = useState(false)\r\n\tconst [compulsory, setCompulsory] = useState([])\r\n\r\n\tconst { TextArea } = Input;\r\n\r\n\r\n\tconst formItemLayout = {\r\n\tlabelCol: {\r\n\t\txs: {\r\n\t\tspan: 24,\r\n\t\t},\r\n\t\tsm: {\r\n\t\tspan: 8,\r\n\t\t},\r\n\t},\r\n\twrapperCol: {\r\n\t\txs: {\r\n\t\tspan: 24,\r\n\t\t},\r\n\t\tsm: {\r\n\t\tspan: 24,\r\n\t\t},\r\n\t},\r\n\t};\r\n\tconst tailFormItemLayout = {\r\n\twrapperCol: {\r\n\t\txs: {\r\n\t\tspan: 24,\r\n\t\toffset: 0,\r\n\t\t},\r\n\t\tsm: {\r\n\t\tspan: 16,\r\n\t\toffset: 8,\r\n\t\t},\r\n\t},\r\n\t};\r\n\r\n\tuseEffect(async() => {\r\n\t\tconst duplicate = await duplicateCheck(memberMail);\r\n\t\tif (duplicate.Transfer === false)\r\n\t\t\tsetDuplicateTrans(true)\r\n\t\telse\r\n\t\t\tsetDuplicateTrans(false)\r\n\t\tif (duplicate.DoubleMajor === false)\r\n\t\t\tsetDuplicateDouble(true)\r\n\t\telse\r\n\t\t\tsetDuplicateDouble(false)\r\n\t\tif (duplicate.Minor === false)\r\n\t\t\tsetDuplicateMinor(true)\t\r\n\t\telse\r\n\t\t\tsetDuplicateMinor(false)\t\r\n\t\tif(duplicate.Minor === false && duplicate.Transfer === false && duplicate.DoubleMajor === false)\r\n\t\t\tsetDuplicateAll(true)\r\n\r\n\t}, []);\r\n\r\n\tconst [basic, setBasic] = useState(220)\r\n\tconst [oneMore, setOneMore] = useState(80)\r\n\r\n\r\n\tuseEffect(() => {\r\n\t\t// antd RWD design is 575px\r\n\t\tif(window.innerWidth < 575){\r\n\t\t\tsetBasic(600)\r\n\t\t\tsetOneMore(90)\r\n\t\t}\r\n\t\telse{\r\n\t\t\tsetBasic(220)\r\n\t\t\tsetOneMore(80)\r\n\t\t}\r\n\t}, [window.innerWidth]);\r\n\r\n\tuseEffect(async() => {\r\n\t\tconst compulSoryTemp = await searchCompulsory(EnterDepartment);\r\n\t\tconsole.log(compulSoryTemp);\r\n\t\t//TODO 因為會有課號不同，課名同的狀況\r\n\t\tlet compulsoryRemoveDuplicate = [];\r\n\r\n\t\tfor(let i = 0; i < compulSoryTemp.length; i++){\r\n\t\t\tlet flag = true;\r\n\t\t\tfor (let j = i + 1; j < compulSoryTemp.length; j ++)\r\n\t\t\t\tif (compulSoryTemp[i].course_name === compulSoryTemp[j].course_name){\r\n\t\t\t\t\tflag = false;\r\n\t\t\t\t\tbreak;\r\n\t\t\t\t}\r\n\t\t\tif(flag)\r\n\t\t\t\tcompulsoryRemoveDuplicate.push(compulSoryTemp[i]);\r\n\t\t}\r\n\r\n\t\tconsole.log(compulsoryRemoveDuplicate)\r\n\t\tsetCompulsory(compulsoryRemoveDuplicate)\r\n\t\t// setCompulsory(compulSoryTemp)\r\n\t\tsetCompulsoryNum([])\r\n\t\tsetSelectCompulsory([]);\r\n\t\tsetSelectGrade([])\r\n\t\t// why we need to set this two times, since if we don't let compulsory num to be empty once\r\n\t\t// , the value of the first option will not be cleared\r\n\t\tsetCompulsoryNum([false,])\r\n\t}, [EnterDepartment]);\r\n\r\n\t// 要傳課號給後端\r\n\tconst mapCourseName2CourseID = (course_name) => {\r\n\t\t\r\n\t\tlet id = \"\"\r\n\t\tfor(let i = 0; i < compulsory.length; i++){\r\n\t\t\tif (compulsory[i].course_name == course_name){\r\n\t\t\t\tid = compulsory[i].course_id;\r\n\t\t\t\treturn id\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tconst onChange_Type = (e) => {\r\n\t\tsetType(e.target.value)\r\n\t}\t\r\n\r\n\tconst onChange_Department = async(value) => {\r\n\t\tsetEnterDepartment(value);\r\n\r\n\t}\r\n\r\n\tconst onChange_Year = (value) => {\r\n\t\tsetYear(value);\r\n\t}\r\n\tconst onChange_FirstGPA = (value) => {\r\n\t\tsetFirstGPA(value);\r\n\t}\r\n\tconst onChange_SecondGPA = (value) => {\r\n\t\tsetSecondGPA(value.target.value)\r\n\t}\r\n\r\n\tconst onChange_Priority = (value) => {\r\n\t\tsetPriority(value)\r\n\t}\r\n\r\n\tconst onChange_oriDepartment = (value) => {\r\n\t\tsetOriDepartment(value)\r\n\r\n\t}\r\n\r\n\tconst onChange_successOrFail = (value) => {\r\n\t\tsetSuccessOrFail(value)\r\n\r\n\t}\r\n\r\n\tconst onChange_Compulsory = (value,index) => {\r\n\t\t\tsetSelectCompulsory(\r\n\t\t\t\t[...selectCompulsory.slice(0,index),\r\n\t\t\t\tvalue,\r\n\t\t\t\t...selectCompulsory.slice(index +1)]\r\n\t\t\t)\r\n\t\t\tif(index >= compulsory.length - 1){\r\n\t\t\t}\r\n\t\t\telse if (index == (compulsoryNum).length - 1 && value != \"\"){\r\n\t\t\t\tsetCompulsoryNum([...compulsoryNum, false]);\r\n\t\t\t}\r\n\t} \r\n\tconst onChange_Grade = (value,index) => {\r\n\t\tsetSelectGrade(\r\n\t\t\t\t[...selectGrade.slice(0,index),\r\n\t\t\t\tvalue,\r\n\t\t\t\t...selectGrade.slice(index +1)]\r\n\t\t)\r\n\r\n\t} \r\n\r\n\r\n\tconst onClick_Submit = async() =>{\r\n\t\t\tif(isLogin)\t{\r\n\t\t\t\tconst data = await createShare(memberMail,year,firstGPA,secondGPA,type,priority,EnterDepartment, oriDepartment, successOrFail)\r\n\t\t\t\tvar thisModal = modal.current;\r\n\t\t\t\tthisModal.style.display = \"block\";\r\n\t\t\t\tfor (let i = 0; i < selectCompulsory.length; i++){\r\n\t\t\t\t\tif(selectGrade[i] && selectCompulsory[i] !== \"\"){\r\n\t\t\t\t\t\tlet course_id = mapCourseName2CourseID(selectCompulsory[i])\r\n\t\t\t\t\t\tawait addCourse(data.data_id, course_id,selectGrade[i], successOrFail)\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t\tsetType(\"\")\r\n\t\t\t\tsetEnterDepartment(department)\r\n\t\t\t\tsetYear(\"\")\r\n\t\t\t\tsetFirstGPA(0)\r\n\t\t\t\tsetSecondGPA(\"\")\r\n\t\t\t\tsetPriority(0)\r\n\t\t\t\tsetCompulsoryNum([])\r\n\t\t\t\tsetSelectCompulsory([]);\r\n\t\t\t\tsetSelectGrade([])\r\n\t\t\t\tsetOriDepartment(\"\")\r\n\r\n\t\t\t\tsetCompulsoryNum([false,])\r\n\t\t\t\tform.resetFields()\r\n\r\n\r\n\t\t\t\tconst duplicate = await duplicateCheck(memberMail);\r\n\t\t\t\tif (duplicate.Transfer === false)\r\n\t\t\t\t\tsetDuplicateTrans(true)\r\n\t\t\t\telse\r\n\t\t\t\t\tsetDuplicateTrans(false)\r\n\t\t\t\tif (duplicate.DoubleMajor === false)\r\n\t\t\t\t\tsetDuplicateDouble(true)\r\n\t\t\t\telse\r\n\t\t\t\t\tsetDuplicateDouble(false)\r\n\t\t\t\tif (duplicate.Minor === false)\r\n\t\t\t\t\tsetDuplicateMinor(true)\t\r\n\t\t\t\telse\r\n\t\t\t\t\tsetDuplicateMinor(false)\r\n\t\t\t\tif(duplicate.Minor === false && duplicate.Transfer === false && duplicate.DoubleMajor === false)\r\n\t\t\t\t\tsetDuplicateAll(true)\r\n\t\t\t\tmessage.success('成功送出');\r\n\t\t\t\tthisModal.style.display = \"none\";\r\n\t\t\t\treturn data\r\n\t\t\t}\r\n\t\t\telse{\r\n\t\t\t\tmessage.error(\"請登入\")\r\n\t\t\t}\r\n\t\t\r\n\t}\r\n\r\n\tconst { Option } = Select;\r\n\r\n\treturn (\r\n\t\tduplicateAll\r\n\t\t?\r\n\t\t<FinishAllShare/>\r\n\t\t:\r\n\t\t// <div className=\"site-card-border-less-wrapper\" style={{marginTop:200+compulsoryNum.length*80}}>\r\n\t\t<>\r\n\t\t<div className=\"card\" style={{marginTop: basic +compulsoryNum.length * oneMore, margin:\"auto\"}}>\r\n\t\t<Card style={{width:\"450px\"}} bordered={true}>\r\n\t\t\t{/* <Space direction=\"vertical\"> */}\r\n\t\t\t<Form\r\n\t\t\t\t{...formItemLayout}\r\n\t\t\t\tform={form}\r\n\t\t\t\tname=\"分享資料\"\r\n\t\t\t\tonFinish={onClick_Submit}\r\n\t\t\t\tscrollToFirstError\r\n\t\t\t>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"type\"\r\n\t\t\t\tlabel=\"分享類別\"\r\n\t\t\t\trules={[\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '請選擇類別!',\r\n\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t<Radio.Group onChange={onChange_Type} >\r\n\t\t\t\t<Radio.Button value=\"Transfer\" disabled={duplicateTrans}>轉系</Radio.Button>\r\n\t\t\t\t<Radio.Button value=\"DoubleMajor\" disabled={duplicateDouble}>雙主修</Radio.Button>\r\n\t\t\t\t<Radio.Button value=\"Minor\" disabled={duplicateMinor}> 輔系</Radio.Button>\r\n\t\t\t</Radio.Group>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"oriDepartment\"\r\n\t\t\t\tlabel=\"原系所\"\r\n\t\t\t>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tshowSearch\r\n\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\tplaceholder=\"此欄非必填\"\r\n\t\t\t\t\tonChange={onChange_oriDepartment}\r\n\t\t\t\t>\r\n\t\t\t\t<Option value=\"\"></Option>\r\n\t\t\t\t{departmentList.map( dep => (\r\n\t\t\t\t\t<Option value={dep.dep_name}>{dep.dep_name}</Option>\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"enterDepartment\"\r\n\t\t\t\tlabel=\"申請系所\"\r\n\t\t\t>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tshowSearch\r\n\t\t\t\t\tstyle={{ width: 200 }}\r\n\t\t\t\t\tplaceholder=\"選擇系所\"\r\n\t\t\t\t\toptionFilterProp=\"children\"\r\n\t\t\t\t\tonChange={onChange_Department}\r\n\t\t\t\t\tdefaultValue={EnterDepartment}\r\n\t\t\t\t>\r\n\t\t\t\t{departmentList.map( dep => (\r\n\t\t\t\t\t<Option value={dep.dep_id}>{dep.dep_name}</Option>\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"year\"\r\n\t\t\t\tlabel=\"申請年度\"\r\n\t\t\t\trules={[\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '請選擇年度!',\r\n\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Select placeholder=\"申請年度\" onChange={onChange_Year}>\r\n\t\t\t\t\t<Option value={\"102\"}>102</Option>\r\n\t\t\t\t\t<Option value={\"103\"}>103</Option>\r\n\t\t\t\t\t<Option value={\"104\"}>104</Option>\r\n\t\t\t\t\t<Option value={\"105\"}>105</Option>\r\n\t\t\t\t\t<Option value={\"106\"}>106</Option>\r\n\t\t\t\t\t<Option value={\"107\"}>107</Option>\r\n\t\t\t\t\t<Option value={\"108\"}>108</Option>\r\n\t\t\t\t\t<Option value={\"109\"}>109</Option>\t\t\t\t\t\r\n\t\t\t\t\t<Option value={\"110\"}>110</Option>\t\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"priority\"\r\n\t\t\t\tlabel=\"志願序\"\r\n\t\t\t\trules={[\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '請選擇志願序',\r\n\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Select placeholder=\"志願序\" onChange={onChange_Priority}>\r\n\t\t\t\t\t<Option value={1}>1</Option>\r\n\t\t\t\t\t<Option value={2}>2</Option>\t\r\n\t\t\t\t</Select>\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"successOrnot\"\r\n\t\t\t\tlabel=\"是否通過\"\r\n\t\t\t\trules={[\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '請選擇是否通過!',\r\n\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t\t<Select placeholder=\"請選擇是否通過\" onChange={onChange_successOrFail}>\r\n\t\t\t\t\t<Option value={\"success\"}>通過</Option>\r\n\t\t\t\t\t<Option value={\"failure\"}>沒通過</Option>\t\r\n\t\t\t\t</Select> \r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"firstGPA\"\r\n\t\t\t\tlabel=\"年度GPA\"\r\n\t\t\t\trules={[\r\n\t\t\t\t{\r\n\t\t\t\t\trequired: true,\r\n\t\t\t\t\tmessage: '請選擇申請年度GPA!',\r\n\t\t\t\t},\r\n\t\t\t\t]}\r\n\t\t\t>\r\n\t\t\t<InputNumber min={0} max={4.3} value={firstGPA} onChange={onChange_FirstGPA} placeholder=\"GPA平均\"/>\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t<Form.Item\r\n\t\t\t\tname=\"secondGPA\"\r\n\t\t\t\tlabel=\"備註\"\r\n\t\t\t>\t\t\t\r\n\t\t\t<TextArea rows={4} value={secondGPA|| \"\"} onChange={onChange_SecondGPA} placeholder=\"e.g. 筆試成績、備審加分項、甚麼課值得先修、給學弟妹的建議等等\"/>\r\n\t\t\t</Form.Item>\r\n\t\r\n\t\t\t{compulsoryNum.map ((cnum,index) =>(\r\n\t\t\t<Form.Item\r\n\t\t\t\tname={`course ${index + 1}`}\r\n\t\t\t\tlabel= {`修過課程 ${index + 1}`}\r\n\r\n\t\t\t>\t\r\n\t\t\t<Input.Group compact>\r\n\t\t\t\t{/* 先不要showsearch，不然手機上看的時候會一直跳鍵盤出來再跳掉，很盪 */}\r\n\t\t\t\t<Select placeholder=\"你修過甚麼相關課程\"  showSearch optionFilterProp=\"children\" onChange={eTargetValue => onChange_Compulsory(eTargetValue,index)} style={{width:180}}>\r\n\t\t\t\t\t<Option value={\"\"}>{\"   \"}</Option>\r\n\t\t\t\t\t{compulsory\r\n\t\t\t\t\t\t.filter(\r\n\t\t\t\t\t\t\tC => !selectCompulsory.find(courseName => courseName === C.course_name)\r\n\t\t\t\t\t\t) \r\n\t\t\t\t\t\t.map(\r\n\t\t\t\t\t\t(c,INDEX) => <Option value={c.course_name}>{c.course_name}</Option> \r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t}\r\n\t\t\t\t</Select>\r\n\t\t\t\t<Select placeholder=\"此門課成績\" onChange={eTargetValue => onChange_Grade(eTargetValue, index)}>\r\n\t\t\t\t\t{/* same as no select (line165) */}\r\n\t\t\t\t\t<Option value={0}>{\"   \"}</Option>\r\n\t\t\t\t\t<Option value={\"A+\"}>A+</Option>\r\n\t\t\t\t\t<Option value={\"A\"}>A</Option>\r\n\t\t\t\t\t<Option value={\"A-\"}>A-</Option>\r\n\t\t\t\t\t<Option value={\"B+\"}>B+</Option>\r\n\t\t\t\t\t<Option value={\"B\"}>B</Option>\r\n\t\t\t\t\t<Option value={\"B-\"}>B-</Option>\r\n\t\t\t\t\t<Option value={\"C+\"}>C+</Option>\r\n\t\t\t\t\t<Option value={\"C\"}>C</Option>\t\t\t\t\t\r\n\t\t\t\t\t<Option value={\"C-\"}>C-</Option>\r\n\t\t\t\t\t<Option value={\"F\"}>F</Option>\t\r\n\t\t\t\t</Select>\r\n\t\t\t</Input.Group>\r\n\t\t\t</Form.Item>\r\n\t\t\t\t\t)\r\n\t\t\t\t)\r\n\t\t\t}\r\n\r\n\t\t\t<Form.Item {...tailFormItemLayout}>\r\n\r\n\t\t\t\t<Space>      \r\n\t\t\t\t\t{/* <Button type=\"primary\" htmlType=\"submit\" className=\"login-form-button\" onClick> */}\r\n\t\t\t\t\t<button htmlType=\"submit\" className=\"button-style-3\" onClick>送出</button>\r\n\t\t\t\t\t\r\n\t\t\t\t\t{/* </Button> */}\r\n\t\t\t\t</Space>\r\n\t\t\t</Form.Item>\r\n\r\n\t\t\t</Form>\r\n\t\t\t{/* <Button type=\"primary\" onClick={onClick_Submit}  style={{left: \"250px\"}}>送出</Button> */}\r\n\t\t\t{/* </Space> */}\r\n\r\n\t\t</Card>\r\n\t\t</div>\r\n      \t<Loading modalRef={modal}/>\r\n\t\t</>\r\n// </div>\r\n\r\n\t)\r\n\r\n}\r\n\r\nexport default NewShare;","import { useEffect } from \"react\"\r\nimport EnterByURL from \"../Components/EnterByURL\"\r\nimport NewShare from \"../Components/newShare\"\r\nimport UnLogin from \"../Components/UnLogin\";\r\n\r\nconst NewSharePage = ({isLogin, memberName, departmentList, department, setSelectAppear, memberMail, current, setCurrent}) => {\r\n\tuseEffect(() => {\r\n\t\tsetSelectAppear(true)\r\n\t\t// console.log(isLogin)\r\n\t\tsetCurrent(\"newshare\")\r\n\t}, []);\r\n\t\r\n\tuseEffect(() => {\r\n\t\tif(department){\r\n\t\t\tsetSelectAppear(false)\r\n\t\t}\r\n\t}, [department]);\r\n\r\n\treturn (\r\n\r\n\t\t\t// department\r\n\t\t\t// ?\r\n\t\t\t// \tisLogin\r\n\t\t\t// \t?\r\n\t\t\t// \t<NewShare isLogin={isLogin} memberName={memberName} departmentList={departmentList} department={department} memberMail={memberMail}/>\r\n\t\t\t// \t:\r\n\t\t\t// \t<UnLogin/>\r\n\t\t\t// :\r\n\t\t\t// <EnterByURL/>\r\n\t\t\tisLogin\r\n\t\t\t?\r\n\t\t\t\tdepartment\r\n\t\t\t\t?\r\n\t\t\t\t//要加這個才能表現出loading效果\r\n\t\t\t\t<div className=\"formPage\">\r\n\t\t\t\t\t<NewShare isLogin={isLogin} memberName={memberName} departmentList={departmentList} department={department} memberMail={memberMail}/>\r\n\t\t\t\t</div>\r\n\t\t\t\t:\r\n\t\t\t\t<EnterByURL/>\t\r\n\t\t\t:\t\r\n\t\t\t\t<UnLogin/>\r\n\t\t\t\t\r\n\t\t)\r\n}\r\n\r\nexport default NewSharePage;","import instance from \"./api\";\r\n\r\n\r\n\r\nexport const getDepartment = async()=>{\r\n\ttry {\r\n\t\tconst {data} = await instance.get('/api/map')\r\n\t\treturn data\r\n\t} \r\n\tcatch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}\r\nexport const searchRequirement = async(depID, type)=>{\r\n\ttry {\r\n\t\t//console.log (todo)\r\n\t\tconst {data} = await instance.post('/api/search/requirement',{\"dep_id\":depID, \"type\":type})\r\n\r\n\t\treturn data\r\n\t} catch (error) {\r\n\t\tconsole.log(error)\r\n\t}\r\n}","import { React, useState, useEffect } from \"react\";\nimport './App.css';\nimport 'antd/dist/antd.css';\nimport \"bootstrap/dist/css/bootstrap.css\";\n\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\n\nimport Cookie from \"js.cookie\";\nimport Navbar from \"./Container/NavbarRWD\"\nimport ChartPage from './Container/ChartsPage';\nimport LoginPage from \"./Container/LoginPage\"\nimport PostPage from \"./Container/PostPage\"\n\n\nimport RequirementPage from \"./Container/RequirementPage\";\nimport NewSharePage from \"./Container/NewSharePage\";\n\nimport { getDepartment } from \"./api/Department\";\nimport { searchCompulsory } from \"./api/Compulsory\";\nimport { getMail } from \"./api/User\";\nimport Footer from \"./Components/Footer\";\n\n\nconst fakedeparmentList = [\n  {\n    \"DepID\": \"7050\",\n    \"Name\": \"資訊管理學系\"\n  },\n  {\n    \"DepID\": \"6110\",\n    \"Name\": \"生物機電工程學系\"\n  },\n  {\n    \"DepID\": \"5020\",\n    \"Name\": \"機械工程學系\"\n  },\n]\n\nconst data = [\n  {\n    \"course_name\": \"程式設計1\",\n    \"course_id\": 0,\n  },\n  {\n    \"course\": \"程式設計2\",\n    \"轉入修過人數\": 0,\n    \"平均成績\": 0,\n  },\n  {\n    \"course\": \"程式設計3\",\n    \"轉入修過人數\": 0,\n    \"平均成績\": 0,\n  }\n]\n\nconst App = () => {\n\n  const [isLogin, setIsLogin] = useState(false);\n  const [memberName, setMemberName] = useState('');\n  // now department id\n  const [department, setDepartment] = useState(undefined);\n  const [departmentList, setDepartmentList] = useState(fakedeparmentList);\n\n  const [current, setCurrent] = useState(\"requirement\")\n  const [selectAppear, setSelectAppear] = useState(true)\n  const [memberMail, setMemberMail] = useState(\"\")\n  const [compulsory, setCompulsory] = useState(data);\n  const [times, setTimes] = useState(0);\n\n\n\n  useEffect(() => {\n    async function fetdepartment() {\n    if (department !== undefined) {\n      const compulSoryTemp = await searchCompulsory(department);\n      setCompulsory(compulSoryTemp)\n    }\n    }\n    setTimes(times + 1);\n    console.log(1234)\n    fetdepartment();\n  }, [department]);\n\n  useEffect(async () => {\n    const data = await getDepartment();\n    if (data)\n      setDepartmentList(data);\n    try {\n      let a = Cookie.get(\"memberName\")\n      if (a) {\n        setMemberName(a)\n        setIsLogin(true)\n        let mail = await getMail(a);\n        setMemberMail(mail)\n      }\n      a = Cookie.get(\"department\")\n      if(a){\n        setDepartment(a)\n      }\n\n    }\n    catch (error) {\n      console.log(\"no login\")\n    }\n\n  }, []);\n  return (\n    <>\n      <div className=\"bk\">\n\n        <Router>\n          <div className=\"navbar\">\n            <Navbar memberName={memberName} isLogin={isLogin}\n              setDepartment={setDepartment} departmentList={departmentList}\n              setMemberName={setMemberName} setIsLogin={setIsLogin} selectAppear={selectAppear}\n              department={department} current={current} setCurrent={setCurrent} \n            />\n          </div>\n          <Switch>\n          {/* 利用 key 讓它可以重新繪圖 */}\n            <Route exact path=\"/\">\n              <ChartPage key={times} department={department} current={current} setCurrent={setCurrent} setSelectAppear={setSelectAppear} compulsory={compulsory} setCompulsory={setCompulsory} />\n              \n            </Route>\n            <Route path=\"/statistical\">\n              <ChartPage key={times} department={department} current={current} setCurrent={setCurrent} setSelectAppear={setSelectAppear} compulsory={compulsory} setCompulsory={setCompulsory} />\n            </Route>\n            <Route path=\"/requirement\">\n              <RequirementPage department={department} current={current} setCurrent={setCurrent} setSelectAppear={setSelectAppear} />\n            </Route>\n            <Route path=\"/login\">\n              <LoginPage isLogin={isLogin} memberName={memberName} setMemberName={setMemberName} setIsLogin={setIsLogin} setSelectAppear={setSelectAppear} setMemberMail={setMemberMail} current={current} setCurrent={setCurrent}/>\n            </Route>\n            <Route path=\"/post\">\n              <PostPage isLogin={isLogin} department={department} current={current} memberName={memberName} setCurrent={setCurrent} setSelectAppear={setSelectAppear} departmentList={departmentList} />\n              \n            </Route>\n            <Route path=\"/newshare\">\n              <NewSharePage isLogin={isLogin} memberName={memberName} departmentList={departmentList} department={department} setSelectAppear={setSelectAppear} memberMail={memberMail} compulsory={compulsory} setCompulsory={setCompulsory} current={current} setCurrent={setCurrent}/>\n            </Route>\n          </Switch>\n\n\n\n        </Router>\n\n\n\n\n      </div>\n\n    </>\n  );\n}\n\nexport default App;\n\n\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}